function formatAttrs(e,n){if(e){var r,t="";for(var a in e)r=e[a],t&&(t+=" "),t+=!r&&booleanAttributes[a]?a:a+'="'+(n.decodeEntities?entities.encodeXML(r):r)+'"';return t}}function renderTag(e,n){var t="<"+e.name,r=formatAttrs(e.attribs,n);return r&&(t+=" "+r),!n.xmlMode||e.children&&0!==e.children.length?(t+=">",t+=render(e.children,n),(!singleTag[e.name]||n.xmlMode)&&(t+="</"+e.name+">")):t+="/>",t}function renderDirective(e){return"<"+e.data+">"}function renderText(e,n){var t=e.data||"";return!n.decodeEntities||e.parent&&e.parent.name in unencodedElements||(t=entities.encodeXML(t)),t}function renderCdata(e){return"<![CDATA["+e.children[0].data+"]]>"}function renderComment(e){return"<!--"+e.data+"-->"}var ElementType=require("domelementtype"),entities=require("entities"),booleanAttributes={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,"default":!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},unencodedElements={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},singleTag={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0},render=module.exports=function(e,n){Array.isArray(e)||e.cheerio||(e=[e]),n=n||{};for(var t="",r=0;r<e.length;r++){var a=e[r];t+="root"===a.type?render(a.children,n):ElementType.isTag(a)?renderTag(a,n):a.type===ElementType.Directive?renderDirective(a):a.type===ElementType.Comment?renderComment(a):a.type===ElementType.CDATA?renderCdata(a):renderText(a,n)}return t};