function parse(e){if(e=e.trim().toLowerCase(),"even"===e)return[2,0];if("odd"===e)return[2,1];var n=e.match(re_nthElement);if(!n)throw new SyntaxError("n-th rule couldn't be parsed ('"+e+"')");var t;return n[1]?(t=parseInt(n[1],10),t||(t="-"===n[1].charAt(0)?-1:1)):t=0,[t,n[3]?parseInt((n[2]||"")+n[3],10):0]}function compile(e){var n=e[0],t=e[1]-1;if(0>t&&0>=n)return falseFunc;if(-1===n)return function(e){return t>=e};if(0===n)return function(e){return e===t};if(1===n)return 0>t?trueFunc:function(e){return e>=t};var r=t%n;return 0>r&&(r+=n),n>1?function(e){return e>=t&&e%n===r}:(n*=-1,function(e){return t>=e&&e%n===r})}var BaseFuncs=require("./basefunctions.js"),trueFunc=BaseFuncs.trueFunc,falseFunc=BaseFuncs.falseFunc;module.exports=function(e){return compile(parse(e))},module.exports.parse=parse,module.exports.compile=compile;var re_nthElement=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;