function testResult(e,n){for(var t=engines.map(function(n){return n(doc,e)}),r=1;r<t.length;r++){if(t[r-1].length!==t[r].length)return!0;for(var a=0;a<t[r].length;a++)if(t[r-1][a]!==t[r][a]&&-1===t[r-1].indexOf(t[r][a]))return!0}return!1}function testSpeed(e){print(e,Array(28-e.length).join(" "));var n=engines.map(function(n){return function(){return n(doc,e)}}),t=CSSselect(e);n.unshift(function(){return CSSselect.iterate(t,doc)}),n=n.map(ben);var r=Math.min.apply(null,n),a=Math.max.apply(null,n);n.forEach(function(e){return e===r?print(" +",e,"+"):e===a?print(" !",e,"!"):Math.abs(e-r)>Math.abs(e-a)?print(" =",e,"="):void print(" ~",e,"~")}),print("\n")}function print(){process.stdout.write(Array.prototype.join.call(arguments," "))}var helper=require("./helper.js"),doc=helper.getFile("W3C_Selectors.html"),CSSselect=helper.CSSselect,soupselect=require("cheerio-soupselect"),selectors=["body","div","body div","div p","div > p","div + p","div ~ p","div[class^=exa][class$=mple]","div p a","div, p, a",".note","div.example","ul .tocline2","div.example, div.note","#title","h1#title","div #title","ul.toc li.tocline2","ul.toc > li.tocline2","h1#title + div > p","h1[id]:contains(Selectors)","a[href][lang][class]","div[class]","div[class=example]","div[class^=exa]","div[class$=mple]","div[class*=e]","div[class|=dialog]","div[class!=made_up]","div[class~=example]"],engines=[function(e,n){return CSSselect(n,e)},soupselect.select];selectors.filter(testResult).forEach(function(e){print(e,"failed!\n")}),process.exit(0),print("-----\n\nChecking performance\n\n");var ben=require("ben");print("RULE                    ","CSSselect (pc)","CSSselect","soupselect\n"),selectors.forEach(testSpeed);