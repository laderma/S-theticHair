function filter(e,n,t,r){return Array.isArray(n)||(n=[n]),"number"==typeof r&&isFinite(r)||(r=1/0),find(e,n,t!==!1,r)}function find(e,n,t,r){for(var a,i=[],o=0,s=n.length;s>o&&!(e(n[o])&&(i.push(n[o]),--r<=0))&&(a=n[o].children,!(t&&a&&a.length>0&&(a=find(e,a,t,r),i=i.concat(a),r-=a.length,0>=r)));o++);return i}function findOneChild(e,n){for(var t=0,r=n.length;r>t;t++)if(e(n[t]))return n[t];return null}function findOne(e,n){for(var t=null,r=0,i=n.length;i>r&&!t;r++)isTag(n[r])&&(e(n[r])?t=n[r]:n[r].children.length>0&&(t=findOne(e,n[r].children)));return t}function existsOne(e,n){for(var t=0,r=n.length;r>t;t++)if(isTag(n[t])&&(e(n[t])||n[t].children.length>0&&existsOne(e,n[t].children)))return!0;return!1}function findAll(e,n){for(var t=[],r=0,i=n.length;i>r;r++)isTag(n[r])&&(e(n[r])&&t.push(n[r]),n[r].children.length>0&&(t=t.concat(findAll(e,n[r].children))));return t}var isTag=require("domelementtype").isTag;module.exports={filter:filter,find:find,findOneChild:findOneChild,findOne:findOne,existsOne:existsOne,findAll:findAll};