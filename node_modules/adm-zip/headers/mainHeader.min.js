var Utils=require("../util"),Constants=Utils.Constants;module.exports=function(){var n=0,e=0,r=0,a=0,t=0;return{get diskEntries(){return n},set diskEntries(r){n=e=r},get totalEntries(){return e},set totalEntries(r){e=n=r},get size(){return r},set size(n){r=n},get offset(){return a},set offset(n){a=n},get commentLength(){return t},set commentLength(n){t=n},get mainHeaderSize(){return Constants.ENDHDR+t},loadFromBinary:function(i){if(i.length!=Constants.ENDHDR||i.readUInt32LE(0)!=Constants.ENDSIG)throw Utils.Errors.INVALID_END;n=i.readUInt16LE(Constants.ENDSUB),e=i.readUInt16LE(Constants.ENDTOT),r=i.readUInt32LE(Constants.ENDSIZ),a=i.readUInt32LE(Constants.ENDOFF),t=i.readUInt16LE(Constants.ENDCOM)},toBinary:function(){var i=new Buffer(Constants.ENDHDR+t);return i.writeUInt32LE(Constants.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(n,Constants.ENDSUB),i.writeUInt16LE(e,Constants.ENDTOT),i.writeUInt32LE(r,Constants.ENDSIZ),i.writeUInt32LE(a,Constants.ENDOFF),i.writeUInt16LE(t,Constants.ENDCOM),i.fill(" ",Constants.ENDHDR),i},toString:function(){return'{\n	"diskEntries" : '+n+',\n	"totalEntries" : '+e+',\n	"size" : '+r+' bytes,\n	"offset" : 0x'+a.toString(16).toUpperCase()+',\n	"commentLength" : 0x'+t+"\n}"}}};