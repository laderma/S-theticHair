"use strict";var path=require("path"),childProcess=require("child_process");module.exports=function(e,n,t){if("string"!=typeof e)throw new Error("Expected a `target`");"function"==typeof n&&(t=n,n=null);var r,a=[];"darwin"===process.platform?(r="open",t&&a.push("-W"),n&&a.push("-a",n)):"win32"===process.platform?(r="cmd",a.push("/c","start"),e=e.replace(/&/g,"^&"),t&&a.push("/wait"),n&&a.push(n)):r=n?n:path.join(__dirname,"xdg-open"),a.push(e);var i={};t||(i.stdio="ignore");var s=childProcess.spawn(r,a,i);t?(s.once("error",t),s.once("close",t)):s.unref()};