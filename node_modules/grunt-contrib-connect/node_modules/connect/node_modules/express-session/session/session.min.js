function Session(e,n){if(Object.defineProperty(this,"req",{value:e}),Object.defineProperty(this,"id",{value:e.sessionID}),"object"==typeof n&&null!==n)for(var t in n)t in this||(this[t]=n[t])}module.exports=Session,Session.prototype.touch=function(){return this.resetMaxAge()},Session.prototype.resetMaxAge=function(){return this.cookie.maxAge=this.cookie.originalMaxAge,this},Session.prototype.save=function(e){return this.req.sessionStore.set(this.id,this,e||function(){}),this},Session.prototype.reload=function(e){var n=this.req,t=this.req.sessionStore;return t.get(this.id,function(r,i){return r?e(r):i?(t.createSession(n,i),void e()):e(new Error("failed to load session"))}),this},Session.prototype.destroy=function(e){return delete this.req.session,this.req.sessionStore.destroy(this.id,e),this},Session.prototype.regenerate=function(e){return this.req.sessionStore.regenerate(this.req,e),this};