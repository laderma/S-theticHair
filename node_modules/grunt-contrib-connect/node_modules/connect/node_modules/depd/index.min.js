function containsNamespace(e,n){var t=e.split(/[ ,]+/);n=String(n).toLowerCase();for(var r=0;r<t.length;r++)if((e=t[r])&&("*"===e||e.toLowerCase()===n))return!0;return!1}function convertDataDescriptorToAccessor(e,n,t){var r=Object.getOwnPropertyDescriptor(e,n),a=r.value;return r.get=function(){return a},r.writable&&(r.set=function(e){return a=e}),delete r.value,delete r.writable,Object.defineProperty(e,n,r),r}function createArgumentsString(e){for(var n="",t=0;e>t;t++)n+=", arg"+t;return n.substr(2)}function createStackString(e){var n=this.name+": "+this.namespace;this.message&&(n+=" deprecated "+this.message);for(var t=0;t<e.length;t++)n+="\n    at "+callSiteToString(e[t]);return n}function depd(e){function a(e){log.call(a,e)}if(!e)throw new TypeError("argument namespace is required");var n=getStack(),t=callSiteLocation(n[1]),r=t[0];return a._file=r,a._ignored=isignored(e),a._namespace=e,a._traced=istraced(e),a._warned=Object.create(null),a["function"]=wrapfunction,a.property=wrapproperty,a}function isignored(e){if(process.noDeprecation)return!0;var n=process.env.NO_DEPRECATION||"";return containsNamespace(n,e)}function istraced(e){if(process.traceDeprecation)return!0;var n=process.env.TRACE_DEPRECATION||"";return containsNamespace(n,e)}function log(e,n){var t=0!==eventListenerCount(process,"deprecation");if(t||!this._ignored){var r,a,i,o=0,s=!1,u=getStack(),l=this._file;for(n?(i=callSiteLocation(u[1]),i.name=n.name,l=i[0]):(o=2,n=callSiteLocation(u[o]),i=n);o<u.length;o++)if(r=callSiteLocation(u[o]),a=r[0],a===l)s=!0;else if(a===this._file)l=this._file;else if(s)break;var c=r?n.join(":")+"__"+r.join(":"):void 0;if(!(void 0!==c&&c in this._warned)){if(this._warned[c]=!0,e||(e=defaultMessage(i!==n&&i.name?i:n)),t){var f=DeprecationError(this._namespace,e,u.slice(o));return void process.emit("deprecation",f)}var d=process.stderr.isTTY?formatColor:formatPlain,h=d.call(this,e,r,u.slice(o));process.stderr.write(h+"\n","utf8")}}}function callSiteLocation(e){var n=e.getFileName()||"<anonymous>",t=e.getLineNumber(),r=e.getColumnNumber();e.isEval()&&(n=e.getEvalOrigin()+", "+n);var a=[n,t,r];return a.callSite=e,a.name=e.getFunctionName(),a}function defaultMessage(e){var n=e.callSite,t=e.name;t||(t="<anonymous@"+formatLocation(e)+">");var r=n.getThis(),a=r&&n.getTypeName();return"Object"===a&&(a=void 0),"Function"===a&&(a=r.name||a),a&&n.getMethodName()?a+"."+t:t}function formatPlain(e,n,t){var r=(new Date).toUTCString(),a=r+" "+this._namespace+" deprecated "+e;if(this._traced){for(var i=0;i<t.length;i++)a+="\n    at "+callSiteToString(t[i]);return a}return n&&(a+=" at "+formatLocation(n)),a}function formatColor(e,n,t){var r="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+e+"[39m";if(this._traced){for(var a=0;a<t.length;a++)r+="\n    [36mat "+callSiteToString(t[a])+"[39m";return r}return n&&(r+=" [36m"+formatLocation(n)+"[39m"),r}function formatLocation(e){return relative(basePath,e[0])+":"+e[1]+":"+e[2]}function getStack(){var e=Error.stackTraceLimit,n={},t=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(n);var r=n.stack.slice(1);return Error.prepareStackTrace=t,Error.stackTraceLimit=e,r}function prepareObjectStackTrace(e,n){return n}function wrapfunction(fn,message){if("function"!=typeof fn)throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})');return deprecatedfn}function wrapproperty(e,n,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(e,n);if(!r)throw new TypeError("must call property on owner object");if(!r.configurable)throw new TypeError("property must be configurable");var a=this,i=getStack(),o=callSiteLocation(i[1]);o.name=n,"value"in r&&(r=convertDataDescriptorToAccessor(e,n,t));var s=r.get,u=r.set;"function"==typeof s&&(r.get=function(){return log.call(a,t,o),s.apply(this,arguments)}),"function"==typeof u&&(r.set=function(){return log.call(a,t,o),u.apply(this,arguments)}),Object.defineProperty(e,n,r)}function DeprecationError(e,n,t){var a,r=new Error;return Object.defineProperty(r,"constructor",{value:DeprecationError}),Object.defineProperty(r,"message",{configurable:!0,enumerable:!1,value:n,writable:!0}),Object.defineProperty(r,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(r,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(r,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==a?a:a=createStackString.call(this,t)},set:function(e){a=e}}),r}var callSiteToString=require("./lib/compat").callSiteToString,EventEmitter=require("events").EventEmitter,relative=require("path").relative;module.exports=depd;var basePath=process.cwd(),eventListenerCount=EventEmitter.listenerCount||function(e,n){return e.listeners(n).length};