function responseTime(e){var n=e||{};"number"==typeof e&&(deprecate("number argument: use {digits: "+JSON.stringify(e)+"} instead"),n={digits:e});var t="function"!=typeof n?createSetHeader(n):n;return function(e,n,r){var a=process.hrtime();onHeaders(n,function(){var r=process.hrtime(a),i=1e3*r[0]+1e-6*r[1];t(e,n,i)}),r()}}function createSetHeader(e){var n=void 0!==e.digits?e.digits:3,t=e.header||"X-Response-Time",r=void 0!==e.suffix?Boolean(e.suffix):!0;return function(e,a,i){if(!a.getHeader(t)){var o=i.toFixed(n);r&&(o+="ms"),a.setHeader(t,o)}}}var deprecate=require("depd")("response-time"),onHeaders=require("on-headers");module.exports=responseTime;