"use strict";function typeis(e,n){var t,r=n,a=tryNormalizeType(e);if(!a)return!1;if(r&&!Array.isArray(r))for(r=new Array(arguments.length-1),t=0;t<r.length;t++)r[t]=arguments[t+1];if(!r||!r.length)return a;var i;for(t=0;t<r.length;t++)if(mimeMatch(normalize(i=r[t]),a))return"+"===i[0]||-1!==i.indexOf("*")?a:i;return!1}function hasbody(e){return void 0!==e.headers["transfer-encoding"]||!isNaN(e.headers["content-length"])}function typeofrequest(e,n){var t=n;if(!hasbody(e))return null;if(arguments.length>2){t=new Array(arguments.length-1);for(var r=0;r<t.length;r++)t[r]=arguments[r+1]}var a=e.headers["content-type"];return typeis(a,t)}function normalize(e){if("string"!=typeof e)return!1;switch(e){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===e[0]?"*/*"+e:-1===e.indexOf("/")?mime.lookup(e):e}function mimeMatch(e,n){if(e===!1)return!1;var t=n.split("/"),r=e.split("/");return 2!==t.length||2!==r.length?!1:"*"!==r[0]&&r[0]!==t[0]?!1:"*+"===r[1].substr(0,2)?r[1].length<=t[1].length+1&&r[1].substr(1)===t[1].substr(1-r[1].length):"*"!==r[1]&&r[1]!==t[1]?!1:!0}function normalizeType(e){var n=typer.parse(e);return n.parameters=void 0,typer.format(n)}function tryNormalizeType(e){try{return normalizeType(e)}catch(n){return null}}var typer=require("media-typer"),mime=require("mime-types");module.exports=typeofrequest,module.exports.is=typeis,module.exports.hasBody=hasbody,module.exports.normalize=normalize,module.exports.match=mimeMatch;