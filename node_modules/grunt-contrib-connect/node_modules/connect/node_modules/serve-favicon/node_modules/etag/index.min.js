"use strict";function entitytag(e){if(0===e.length)return'"0-1B2M2Y8AsgTpgAmY7PhCfg"';var n=crypto.createHash("md5").update(e,"utf8").digest("base64").replace(base64PadCharRegExp,""),t="string"==typeof e?Buffer.byteLength(e,"utf8"):e.length;return'"'+t.toString(16)+"-"+n+'"'}function etag(e,n){if(null==e)throw new TypeError("argument entity is required");var t=isstats(e),r=n&&"boolean"==typeof n.weak?n.weak:t;if(!t&&"string"!=typeof e&&!Buffer.isBuffer(e))throw new TypeError("argument entity must be string, Buffer, or fs.Stats");var i=t?stattag(e):entitytag(e);return r?"W/"+i:i}function isstats(e){return"function"==typeof Stats&&e instanceof Stats?!0:e&&"object"==typeof e&&"ctime"in e&&"[object Date]"===toString.call(e.ctime)&&"mtime"in e&&"[object Date]"===toString.call(e.mtime)&&"ino"in e&&"number"==typeof e.ino&&"size"in e&&"number"==typeof e.size}function stattag(e){var n=e.mtime.getTime().toString(16),t=e.size.toString(16);return'"'+t+"-"+n+'"'}module.exports=etag;var crypto=require("crypto"),Stats=require("fs").Stats,base64PadCharRegExp=/=+$/,toString=Object.prototype.toString;