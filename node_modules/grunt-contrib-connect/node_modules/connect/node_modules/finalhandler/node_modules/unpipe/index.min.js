"use strict";function hasPipeDataListeners(e){for(var n=e.listeners("data"),t=0;t<n.length;t++)if("ondata"===n[t].name)return!0;return!1}function unpipe(e){if(!e)throw new TypeError("argument stream is required");if("function"==typeof e.unpipe)return void e.unpipe();if(hasPipeDataListeners(e))for(var n,t=e.listeners("close"),r=0;r<t.length;r++)n=t[r],("cleanup"===n.name||"onclose"===n.name)&&n.call(e)}module.exports=unpipe;