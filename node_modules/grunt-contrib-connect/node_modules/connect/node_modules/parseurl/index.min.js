function parseurl(e){var n=e.url;if(void 0===n)return void 0;var t=e._parsedUrl;return fresh(n,t)?t:(t=fastparse(n),t._raw=n,e._parsedUrl=t)}function originalurl(e){var n=e.originalUrl;if("string"!=typeof n)return parseurl(e);var t=e._parsedOriginalUrl;return fresh(n,t)?t:(t=fastparse(n),t._raw=n,e._parsedOriginalUrl=t)}function fastparse(e){var n="string"==typeof e&&simplePathRegExp.exec(e);if(n){var t=n[1],r=n[2]||null,a=void 0!==Url?new Url:{};return a.path=e,a.href=e,a.pathname=t,a.search=r,a.query=r&&r.substr(1),a}return parse(e)}function fresh(e,n){return"object"==typeof n&&null!==n&&(void 0===Url||n instanceof Url)&&n._raw===e}var url=require("url"),parse=url.parse,Url=url.Url,simplePathRegExp=/^(\/\/?(?!\/)[^\?#\s]*)(\?[^#\s]*)?$/;module.exports=parseurl,module.exports.original=originalurl;