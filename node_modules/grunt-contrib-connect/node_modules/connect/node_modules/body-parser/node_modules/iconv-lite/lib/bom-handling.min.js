"use strict";function PrependBOMWrapper(e,n){this.encoder=e,this.addBOM=!0}function StripBOMWrapper(e,n){this.decoder=e,this.pass=!1,this.options=n||{}}var BOMChar="\ufeff";exports.PrependBOM=PrependBOMWrapper,PrependBOMWrapper.prototype.write=function(e){return this.addBOM&&(e=BOMChar+e,this.addBOM=!1),this.encoder.write(e)},PrependBOMWrapper.prototype.end=function(){return this.encoder.end()},exports.StripBOM=StripBOMWrapper,StripBOMWrapper.prototype.write=function(e){var n=this.decoder.write(e);return this.pass||!n?n:(n[0]===BOMChar&&(n=n.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,n)},StripBOMWrapper.prototype.end=function(){return this.decoder.end()};