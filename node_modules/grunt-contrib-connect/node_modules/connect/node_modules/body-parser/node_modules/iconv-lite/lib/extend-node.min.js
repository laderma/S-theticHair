"use strict";module.exports=function(e){var n=void 0;e.extendNodeEncodings=function(){if(!n){n={};var t={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};Buffer.isNativeEncoding=function(e){return e&&t[e.toLowerCase()]};var r=require("buffer").SlowBuffer;if(n.SlowBufferToString=r.prototype.toString,r.prototype.toString=function(t,r,i){return t=String(t||"utf8").toLowerCase(),Buffer.isNativeEncoding(t)?n.SlowBufferToString.call(this,t,r,i):("undefined"==typeof r&&(r=0),"undefined"==typeof i&&(i=this.length),e.decode(this.slice(r,i),t))},n.SlowBufferWrite=r.prototype.write,r.prototype.write=function(t,r,i,a){if(isFinite(r))isFinite(i)||(a=i,i=void 0);else{var o=a;a=r,r=i,i=o}r=+r||0;var s=this.length-r;if(i?(i=+i,i>s&&(i=s)):i=s,a=String(a||"utf8").toLowerCase(),Buffer.isNativeEncoding(a))return n.SlowBufferWrite.call(this,t,r,i,a);if(t.length>0&&(0>i||0>r))throw new RangeError("attempt to write beyond buffer bounds");var u=e.encode(t,a);return u.length<i&&(i=u.length),u.copy(this,r,0,i),i},n.BufferIsEncoding=Buffer.isEncoding,Buffer.isEncoding=function(n){return Buffer.isNativeEncoding(n)||e.encodingExists(n)},n.BufferByteLength=Buffer.byteLength,Buffer.byteLength=r.byteLength=function(t,r){return r=String(r||"utf8").toLowerCase(),Buffer.isNativeEncoding(r)?n.BufferByteLength.call(this,t,r):e.encode(t,r).length},n.BufferToString=Buffer.prototype.toString,Buffer.prototype.toString=function(t,r,i){return t=String(t||"utf8").toLowerCase(),Buffer.isNativeEncoding(t)?n.BufferToString.call(this,t,r,i):("undefined"==typeof r&&(r=0),"undefined"==typeof i&&(i=this.length),e.decode(this.slice(r,i),t))},n.BufferWrite=Buffer.prototype.write,Buffer.prototype.write=function(t,r,i,a){var o=r,s=i,u=a;if(isFinite(r))isFinite(i)||(a=i,i=void 0);else{var l=a;a=r,r=i,i=l}if(a=String(a||"utf8").toLowerCase(),Buffer.isNativeEncoding(a))return n.BufferWrite.call(this,t,o,s,u);r=+r||0;var c=this.length-r;if(i?(i=+i,i>c&&(i=c)):i=c,t.length>0&&(0>i||0>r))throw new RangeError("attempt to write beyond buffer bounds");var f=e.encode(t,a);return f.length<i&&(i=f.length),f.copy(this,r,0,i),i},e.supportsStreams){var i=require("stream").Readable;n.ReadableSetEncoding=i.prototype.setEncoding,i.prototype.setEncoding=function(n,t){this._readableState.decoder=e.getDecoder(n,t),this._readableState.encoding=n},i.prototype.collect=e._collect}}},e.undoExtendNodeEncodings=function(){if(!n)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete Buffer.isNativeEncoding;var t=require("buffer").SlowBuffer;if(t.prototype.toString=n.SlowBufferToString,t.prototype.write=n.SlowBufferWrite,Buffer.isEncoding=n.BufferIsEncoding,Buffer.byteLength=n.BufferByteLength,Buffer.prototype.toString=n.BufferToString,Buffer.prototype.write=n.BufferWrite,e.supportsStreams){var r=require("stream").Readable;r.prototype.setEncoding=n.ReadableSetEncoding,delete r.prototype.collect}n=void 0}};