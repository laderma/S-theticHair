function createServer(){function e(n,t,r){e.handle(n,t,r)}merge(e,proto),merge(e,EventEmitter.prototype),e.route="/",e.stack=[],0!==arguments.length&&deprecate("connect(middleware): use app.use(middleware) instead");for(var n=0;n<arguments.length;++n)e.use(arguments[n]);return e}var deprecate=require("depd")("connect"),EventEmitter=require("events").EventEmitter,proto=require("./proto"),utils=require("./utils"),path=require("path"),basename=path.basename,fs=require("fs"),merge=require("utils-merge");require("./patch"),exports=module.exports=createServer,exports.version=require("../package").version,exports.mime=require("./middleware/static").mime,exports.proto=proto,exports.middleware={},exports.utils=utils,createServer.createServer=deprecate["function"](createServer,"createServer(): use connect() instead"),fs.readdirSync(__dirname+"/middleware").forEach(function(e){function t(){return require("./middleware/"+n)}if(/\.js$/.test(e)){var n=basename(e,".js");exports.middleware.__defineGetter__(n,t),exports.__defineGetter__(n,t)}});