!function(){var e={},n=this,t=n.async;"undefined"!=typeof module&&module.exports?module.exports=e:n.async=e,e.noConflict=function(){return n.async=t,e};var r=function(e,n){if(e.forEach)return e.forEach(n);for(var t=0;t<e.length;t+=1)n(e[t],t,e)},i=function(e,n){if(e.map)return e.map(n);var t=[];return r(e,function(e,r,i){t.push(n(e,r,i))}),t},a=function(e,n,t){return e.reduce?e.reduce(n,t):(r(e,function(e,r,i){t=n(t,e,r,i)}),t)},o=function(e){if(Object.keys)return Object.keys(e);var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n};"undefined"!=typeof process&&process.nextTick?e.nextTick=process.nextTick:e.nextTick=function(e){setTimeout(e,0)},e.forEach=function(e,n,t){if(!e.length)return t();var i=0;r(e,function(r){n(r,function(n){n?(t(n),t=function(){}):(i+=1,i===e.length&&t())})})},e.forEachSeries=function(e,n,t){if(!e.length)return t();var r=0,i=function(){n(e[r],function(n){n?(t(n),t=function(){}):(r+=1,r===e.length?t():i())})};i()},e.forEachLimit=function(e,n,t,r){if(!e.length||0>=n)return r();var i=0,a=0,o=0;!function s(){if(i===e.length)return r();for(;n>o&&a<e.length;)t(e[a],function(n){n?(r(n),r=function(){}):(i+=1,o-=1,i===e.length?r():s())}),a+=1,o+=1}()};var u=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[e.forEach].concat(t))}},l=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[e.forEachSeries].concat(t))}},c=function(e,n,t,r){var a=[];n=i(n,function(e,n){return{index:n,value:e}}),e(n,function(e,n){t(e.value,function(t,r){a[e.index]=r,n(t)})},function(e){r(e,a)})};e.map=u(c),e.mapSeries=l(c),e.reduce=function(n,t,r,i){e.forEachSeries(n,function(e,n){r(t,e,function(e,r){t=r,n(e)})},function(e){i(e,t)})},e.inject=e.reduce,e.foldl=e.reduce,e.reduceRight=function(n,t,r,a){var o=i(n,function(e){return e}).reverse();e.reduce(o,t,r,a)},e.foldr=e.reduceRight;var f=function(e,n,t,r){var a=[];n=i(n,function(e,n){return{index:n,value:e}}),e(n,function(e,n){t(e.value,function(t){t&&a.push(e),n()})},function(e){r(i(a.sort(function(e,n){return e.index-n.index}),function(e){return e.value}))})};e.filter=u(f),e.filterSeries=l(f),e.select=e.filter,e.selectSeries=e.filterSeries;var d=function(e,n,t,r){var a=[];n=i(n,function(e,n){return{index:n,value:e}}),e(n,function(e,n){t(e.value,function(t){t||a.push(e),n()})},function(e){r(i(a.sort(function(e,n){return e.index-n.index}),function(e){return e.value}))})};e.reject=u(d),e.rejectSeries=l(d);var h=function(e,n,t,r){e(n,function(e,n){t(e,function(t){t?(r(e),r=function(){}):n()})},function(e){r()})};e.detect=u(h),e.detectSeries=l(h),e.some=function(n,t,r){e.forEach(n,function(e,n){t(e,function(e){e&&(r(!0),r=function(){}),n()})},function(e){r(!1)})},e.any=e.some,e.every=function(n,t,r){e.forEach(n,function(e,n){t(e,function(e){e||(r(!1),r=function(){}),n()})},function(e){r(!0)})},e.all=e.every,e.sortBy=function(n,t,r){e.map(n,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,n){if(e)return r(e);var t=function(e,n){var t=e.criteria,r=n.criteria;return r>t?-1:t>r?1:0};r(null,i(n.sort(t),function(e){return e.value}))})},e.auto=function(e,n){n=n||function(){};var t=o(e);if(!t.length)return n(null);var i={},s=[],u=function(e){s.unshift(e)},l=function(e){for(var n=0;n<s.length;n+=1)if(s[n]===e)return void s.splice(n,1)},c=function(){r(s,function(e){e()})};u(function(){o(i).length===t.length&&n(null,i)}),r(t,function(t){var r=e[t]instanceof Function?[e[t]]:e[t],o=function(e){if(e)n(e),n=function(){};else{var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,c()}},s=r.slice(0,Math.abs(r.length-1))||[],f=function(){return a(s,function(e,n){return e&&i.hasOwnProperty(n)},!0)};if(f())r[r.length-1](o,i);else{var d=function(){f()&&(l(d),r[r.length-1](o,i))};u(d)}})},e.waterfall=function(n,t){if(!n.length)return t();t=t||function(){};var r=function(n){return function(i){if(i)t(i),t=function(){};else{var a=Array.prototype.slice.call(arguments,1),o=n.next();o?a.push(r(o)):a.push(t),e.nextTick(function(){n.apply(null,a)})}}};r(e.iterator(n))()},e.parallel=function(n,t){if(t=t||function(){},n.constructor===Array)e.map(n,function(e,n){e&&e(function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),n.call(null,e,t)})},t);else{var r={};e.forEach(o(n),function(e,t){n[e](function(n){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,t(n)})},function(e){t(e,r)})}},e.series=function(n,t){if(t=t||function(){},n.constructor===Array)e.mapSeries(n,function(e,n){e&&e(function(e){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),n.call(null,e,t)})},t);else{var r={};e.forEachSeries(o(n),function(e,t){n[e](function(n){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,t(n)})},function(e){t(e,r)})}},e.iterator=function(e){var n=function(t){var r=function(){return e.length&&e[t].apply(null,arguments),r.next()};return r.next=function(){return t<e.length-1?n(t+1):null},r};return n(0)},e.apply=function(e){var n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,n.concat(Array.prototype.slice.call(arguments)))}};var p=function(e,n,t,r){var i=[];e(n,function(e,n){t(e,function(e,t){i=i.concat(t||[]),n(e)})},function(e){r(e,i)})};e.concat=u(p),e.concatSeries=l(p),e.whilst=function(n,t,r){n()?t(function(i){return i?r(i):void e.whilst(n,t,r)}):r()},e.until=function(n,t,r){n()?r():t(function(i){return i?r(i):void e.until(n,t,r)})},e.queue=function(n,t){var r=0,i={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,push:function(n,r){i.tasks.push({data:n,callback:r}),i.saturated&&i.tasks.length==t&&i.saturated(),e.nextTick(i.process)},process:function(){if(r<i.concurrency&&i.tasks.length){var e=i.tasks.shift();i.empty&&0==i.tasks.length&&i.empty(),r+=1,n(e.data,function(){r-=1,e.callback&&e.callback.apply(e,arguments),i.drain&&i.tasks.length+r==0&&i.drain(),i.process()})}},length:function(){return i.tasks.length},running:function(){return r}};return i};var m=function(e){return function(n){var t=Array.prototype.slice.call(arguments,1);n.apply(null,t.concat([function(n){var t=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(n?console.error&&console.error(n):console[e]&&r(t,function(n){console[e](n)}))}]))}};e.log=m("log"),e.dir=m("dir"),e.memoize=function(e,n){var t={},r={};n=n||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),a=i.pop(),o=n.apply(null,i);o in t?a.apply(null,t[o]):o in r?r[o].push(a):(r[o]=[a],e.apply(null,i.concat([function(){t[o]=arguments;var e=r[o];delete r[o];for(var n=0,i=e.length;i>n;n++)e[n].apply(null,arguments)}])))};return i.unmemoized=e,i},e.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}}();