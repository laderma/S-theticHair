var tap=require("tap"),tape=require("../");tap.test("tape only test",function(e){var n=tape.createHarness({exit:!1}),t=tap.createConsumer(),r=[];t.on("data",function(e){r.push(e)}),t.on("end",function(){var n=r.map(function(e){return e&&"object"==typeof e?{id:e.id,ok:e.ok,name:e.name.trim()}:e});e.deepEqual(n,["TAP version 13","run success",{id:1,ok:!0,name:"assert name"},"tests 1","pass  1","ok"]),e.end()}),n.stream.pipe(t),n("never run fail",function(e){e.equal(!0,!1),e.end()}),n("never run success",function(e){e.equal(!0,!0),e.end()}),n.only("run success",function(e){e.ok(!0,"assert name"),e.end()})});