"use strict";function SourceMap(e){function r(r,a,i,s,o,l){if(n){var u=n.originalPositionFor({line:s,column:o});if(null===u.source)return;r=u.source,s=u.line,o=u.column,l=u.name||l}t.addMapping({generated:{line:a+e.dest_line_diff,column:i},original:{line:s+e.orig_line_diff,column:o},source:r,name:l})}e=defaults(e,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var t,n=e.orig&&new MOZ_SourceMap.SourceMapConsumer(e.orig);return t=n?MOZ_SourceMap.SourceMapGenerator.fromSourceMap(n):new MOZ_SourceMap.SourceMapGenerator({file:e.file,sourceRoot:e.root}),{add:r,get:function(){return t},toString:function(){return JSON.stringify(t.toJSON())}}}