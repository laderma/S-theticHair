function ruint8(e,n,t){if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t>=e.length)throw new Error("Trying to read beyond buffer length");return e[t]}function rgint16(e,n,t){var r=0;return"big"==n?(r=e[t]<<8,r|=e[t+1]):(r=e[t],r|=e[t+1]<<8),r}function ruint16(e,n,t){if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t+1>=e.length)throw new Error("Trying to read beyond buffer length");return rgint16(e,n,t)}function rgint32(e,n,t){var r=0;return"big"==n?(r=e[t+1]<<16,r|=e[t+2]<<8,r|=e[t+3],r+=e[t]<<24>>>0):(r=e[t+2]<<16,r|=e[t+1]<<8,r|=e[t],r+=e[t+3]<<24>>>0),r}function ruint32(e,n,t){if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t+3>=e.length)throw new Error("Trying to read beyond buffer length");return rgint32(e,n,t)}function rgint64(e,n,t){var r=new Array(2);return"big"==n?(r[0]=ruint32(e,n,t),r[1]=ruint32(e,n,t+4)):(r[0]=ruint32(e,n,t+4),r[1]=ruint32(e,n,t)),r}function ruint64(e,n,t){if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t+7>=e.length)throw new Error("Trying to read beyond buffer length");return rgint64(e,n,t)}function rsint8(e,n,t){var r;if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t>=e.length)throw new Error("Trying to read beyond buffer length");return r=128&e[t],r?-1*(255-e[t]+1):e[t]}function rsint16(e,n,t){var r,i;if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t+1>=e.length)throw new Error("Trying to read beyond buffer length");return i=rgint16(e,n,t),r=32768&i,r?-1*(65535-i+1):i}function rsint32(e,n,t){var r,i;if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t+3>=e.length)throw new Error("Trying to read beyond buffer length");return i=rgint32(e,n,t),r=2147483648&i,r?-1*(4294967295-i+1):i}function rsint64(e,n,t){var r,i;if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t+3>=e.length)throw new Error("Trying to read beyond buffer length");return i=rgint64(e,n,t),(r=2147483648&i[0])?(i[0]=-1*(4294967295-i[0]),i[1]=-1*(4294967295-i[1]+1),mod_assert.ok(i[1]<=4294967296),-4294967296==i[1]&&(i[1]=0,i[0]--),i):i}function rfloat(e,n,t){var i,a,o,s,r=[],u=127,l=255;if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t+3>=e.length)throw new Error("Trying to read beyond buffer length");return"big"==n?(r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3]):(r[3]=e[t],r[2]=e[t+1],r[1]=e[t+2],r[0]=e[t+3]),i=128&r[0],a=(127&r[0])<<1,a|=(128&r[1])>>>7,o=(127&r[1])<<16,o|=r[2]<<8,o|=r[3],i||a!=l||0!==o?i&&a==l&&0===o?Number.NEGATIVE_INFINITY:a==l&&0!==o?Number.NaN:0===a&&0===o?0:(a-=u,a==-u?(a++,s=0):s=1,s=(s+o*Math.pow(2,-23))*Math.pow(2,a),i&&(s*=-1),s):Number.POSITIVE_INFINITY}function rdouble(e,n,t){var i,a,o,s,u,r=[],l=1023,c=2047;if(void 0===n)throw new Error("missing endian");if(void 0===e)throw new Error("missing buffer");if(void 0===t)throw new Error("missing offset");if(t+7>=e.length)throw new Error("Trying to read beyond buffer length");return"big"==n?(r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7]):(r[7]=e[t],r[6]=e[t+1],r[5]=e[t+2],r[4]=e[t+3],r[3]=e[t+4],r[2]=e[t+5],r[1]=e[t+6],r[0]=e[t+7]),i=128&r[0],a=(127&r[0])<<4,a|=(240&r[1])>>>4,u=r[7],u|=r[6]<<8,u|=r[5]<<16,o=r[4],o|=r[3]<<8,o|=r[2]<<16,o|=(15&r[1])<<24,o*=Math.pow(2,24),o+=u,i||a!=c||0!==o?i&&a==c&&0===o?Number.NEGATIVE_INFINITY:a==c&&0!==o?Number.NaN:0===a&&0===o?0:(a-=l,a==-l?(a++,s=0):s=1,s=(s+o*Math.pow(2,-52))*Math.pow(2,a),i&&(s*=-1),s):Number.POSITIVE_INFINITY}function prepuint(e,n){if("number"!=typeof e)throw new(Error("cannot write a non-number as a number"));if(0>e)throw new Error("specified a negative value for writing an unsigned value");if(e>n)throw new Error("value is larger than maximum value for type");if(Math.floor(e)!==e)throw new Error("value has a fractional component");return e}function wuint8(e,n,t,r){var i;if(void 0===e)throw new Error("missing value");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r>=t.length)throw new Error("Trying to read beyond buffer length");i=prepuint(e,255),t[r]=i}function wgint16(e,n,t,r){"big"==n?(t[r]=(65280&e)>>>8,t[r+1]=255&e):(t[r+1]=(65280&e)>>>8,t[r]=255&e)}function wuint16(e,n,t,r){var i;if(void 0===e)throw new Error("missing value");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r+1>=t.length)throw new Error("Trying to read beyond buffer length");i=prepuint(e,65535),wgint16(i,n,t,r)}function wgint32(e,n,t,r){"big"==n?(t[r]=(e-(16777215&e))/Math.pow(2,24),t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e):(t[r+3]=(e-(16777215&e))/Math.pow(2,24),t[r+2]=e>>>16&255,t[r+1]=e>>>8&255,t[r]=255&e)}function wuint32(e,n,t,r){var i;if(void 0===e)throw new Error("missing value");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r+3>=t.length)throw new Error("Trying to read beyond buffer length");i=prepuint(e,4294967295),wgint32(i,n,t,r)}function wgint64(e,n,t,r){"big"==n?(wgint32(e[0],n,t,r),wgint32(e[1],n,t,r+4)):(wgint32(e[0],n,t,r+4),wgint32(e[1],n,t,r))}function wuint64(e,n,t,r){if(void 0===e)throw new Error("missing value");if(!(e instanceof Array))throw new Error("value must be an array");if(2!=e.length)throw new Error("value must be an array of length 2");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r+7>=t.length)throw new Error("Trying to read beyond buffer length");prepuint(e[0],4294967295),prepuint(e[1],4294967295),wgint64(e,n,t,r)}function prepsint(e,n,t){if("number"!=typeof e)throw new(Error("cannot write a non-number as a number"));if(e>n)throw new Error("value larger than maximum allowed value");if(t>e)throw new Error("value smaller than minimum allowed value");if(Math.floor(e)!==e)throw new Error("value has a fractional component");return e}function wsint8(e,n,t,r){var i;if(void 0===e)throw new Error("missing value");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r>=t.length)throw new Error("Trying to read beyond buffer length");i=prepsint(e,127,-128),i>=0?wuint8(i,n,t,r):wuint8(255+i+1,n,t,r)}function wsint16(e,n,t,r){var i;if(void 0===e)throw new Error("missing value");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r+1>=t.length)throw new Error("Trying to read beyond buffer length");i=prepsint(e,32767,-32768),i>=0?wgint16(i,n,t,r):wgint16(65535+i+1,n,t,r)}function wsint32(e,n,t,r){var i;if(void 0===e)throw new Error("missing value");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r+3>=t.length)throw new Error("Trying to read beyond buffer length");i=prepsint(e,2147483647,-2147483648),i>=0?wgint32(i,n,t,r):wgint32(4294967295+i+1,n,t,r)}function wsint64(e,n,t,r){var i,a,o=new Array(2);if(void 0===e)throw new Error("missing value");if(!(e instanceof Array))throw new Error("value must be an array");if(2!=e.length)throw new Error("value must be an array of length 2");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r+7>=t.length)throw new Error("Trying to read beyond buffer length");if(i=e[0]*Number.POSITIVE_INFINITY==Number.POSITIVE_INFINITY,a=e[1]*Number.POSITIVE_INFINITY==Number.POSITIVE_INFINITY,0!=e[0]&&0!=e[1]&&i!=a)throw new Error("Both entries in the array must have the same sign");if(i)prepuint(e[0],2147483647),prepuint(e[1],4294967295);else if(prepsint(e[0],0,-2147483648),prepsint(e[1],0,-4294967295),-2147483648==e[0]&&0!=e[1])throw new Error("value smaller than minimum allowed value");e[0]<0||e[1]<0?(o[0]=4294967295-Math.abs(e[0]),o[1]=4294967296-Math.abs(e[1]),4294967296==o[1]&&(o[1]=0,o[0]++)):(o[0]=e[0],o[1]=e[1]),wgint64(o,n,t,r)}function log2(e){return Math.log(e)/Math.log(2)}function intexp(e){return Math.floor(log2(e))}function fracexp(e){return Math.floor(log2(e))}function wfloat(e,n,t,r){var i,a,o,s,u=[];if(void 0===e)throw new Error("missing value");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r+3>=t.length)throw new Error("Trying to read beyond buffer length");isNaN(e)?(i=0,a=255,o=23):e==Number.POSITIVE_INFINITY?(i=0,a=255,o=0):e==Number.NEGATIVE_INFINITY?(i=1,a=255,o=0):(0>e?(i=1,e=Math.abs(e)):i=0,s=1>e?fracexp(e):intexp(e),-127>=s?(a=0,o=e*Math.pow(2,149)&8388607):(a=127+s,o=e*Math.pow(2,23-s),o&=8388607)),u[0]=i<<7|(254&a)>>>1,u[1]=(1&a)<<7|(8323072&o)>>>16,u[2]=(65280&o)>>>8,u[3]=255&o,"big"==n?(t[r]=u[0],t[r+1]=u[1],t[r+2]=u[2],t[r+3]=u[3]):(t[r]=u[3],t[r+1]=u[2],t[r+2]=u[1],t[r+3]=u[0])}function wdouble(e,n,t,r){var i,a,o,s,u=[];if(void 0===e)throw new Error("missing value");if(void 0===n)throw new Error("missing endian");if(void 0===t)throw new Error("missing buffer");if(void 0===r)throw new Error("missing offset");if(r+7>=t.length)throw new Error("Trying to read beyond buffer length");isNaN(e)?(i=0,a=2047,o=23):e==Number.POSITIVE_INFINITY?(i=0,a=2047,o=0):e==Number.NEGATIVE_INFINITY?(i=1,a=2047,o=0):(0>e?(i=1,e=Math.abs(e)):i=0,s=1>e?fracexp(e):intexp(e),2.225073858507201e-308>=e||-1023>=s?(a=0,o=e*Math.pow(2,1023)*Math.pow(2,51),o%=Math.pow(2,52)):(s>1023&&(s=1023),a=1023+s,o=e*Math.pow(2,-s),o*=Math.pow(2,52),o%=Math.pow(2,52))),u[7]=255&o,u[6]=o>>>8&255,u[5]=o>>>16&255,o=(o-(16777215&o))/Math.pow(2,24),u[4]=255&o,u[3]=o>>>8&255,u[2]=o>>>16&255,u[1]=(15&a)<<4|o>>>24,u[0]=i<<7|(2032&a)>>>4,"big"==n?(t[r]=u[0],t[r+1]=u[1],t[r+2]=u[2],t[r+3]=u[3],t[r+4]=u[4],t[r+5]=u[5],t[r+6]=u[6],t[r+7]=u[7]):(t[r+7]=u[0],t[r+6]=u[1],t[r+5]=u[2],t[r+4]=u[3],t[r+3]=u[4],t[r+2]=u[5],t[r+1]=u[6],t[r]=u[7])}var mod_assert=require("assert");exports.ruint8=ruint8,exports.ruint16=ruint16,exports.ruint32=ruint32,exports.ruint64=ruint64,exports.wuint8=wuint8,exports.wuint16=wuint16,exports.wuint32=wuint32,exports.wuint64=wuint64,exports.rsint8=rsint8,exports.rsint16=rsint16,exports.rsint32=rsint32,exports.rsint64=rsint64,exports.wsint8=wsint8,exports.wsint16=wsint16,exports.wsint32=wsint32,exports.wsint64=wsint64,exports.rfloat=rfloat,exports.rdouble=rdouble,exports.wfloat=wfloat,exports.wdouble=wdouble;