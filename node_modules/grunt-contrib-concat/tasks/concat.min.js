"use strict";module.exports=function(n){var e=require("./lib/comment").init(n);n.registerMultiTask("concat","Concatenate files.",function(){var t=this.options({separator:n.util.linefeed,banner:"",footer:"",stripBanners:!1,process:!1});t.stripBanners===!0&&(t.stripBanners={}),t.process===!0&&(t.process={});var r=n.template.process(t.banner),a=n.template.process(t.footer);this.files.forEach(function(i){var s=r+i.src.filter(function(e){return n.file.exists(e)?!0:(n.log.warn('Source file "'+e+'" not found.'),!1)}).map(function(r){var a=n.file.read(r);return"function"==typeof t.process?a=t.process(a,r):t.process&&(a=n.template.process(a,t.process)),t.stripBanners&&(a=e.stripBanner(a,t.stripBanners)),a}).join(t.separator)+a;n.file.write(i.dest,s),n.log.writeln('File "'+i.dest+'" created.')})})};