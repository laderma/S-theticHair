var glob=require("../"),test=require("tap").test,path=require("path");test("stat all the things",function(n){var e=new glob.Glob("a/*abc*/**",{stat:!0,cwd:__dirname}),t=[];e.on("match",function(n){t.push(n)});var r=[];e.on("stat",function(n){r.push(n)}),e.on("end",function(e){r=r.sort(),t=t.sort(),e=e.sort(),n.same(r,t),n.same(e,t);var a=Object.keys(this.statCache);n.same(a.map(function(n){return path.relative(__dirname,n)}).sort(),t),a.forEach(function(e){n.equal(typeof this.statCache[e],"object")},this),n.end()})});