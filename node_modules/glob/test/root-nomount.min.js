var tap=require("tap"),origCwd=process.cwd();process.chdir(__dirname),tap.test("changing root and searching for /b*/**",function(n){var e=require("../"),t=require("path");n.test(".",function(n){e("/b*/**",{globDebug:!0,root:".",nomount:!0},function(e,t){n.ifError(e),n.like(t,[]),n.end()})}),n.test("a",function(n){e("/b*/**",{globDebug:!0,root:t.resolve("a"),nomount:!0},function(e,t){n.ifError(e),n.like(t,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]),n.end()})}),n.test("root=a, cwd=a/b",function(n){e("/b*/**",{globDebug:!0,root:"a",cwd:t.resolve("a/b"),nomount:!0},function(e,t){n.ifError(e),n.like(t,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]),n.end()})}),n.test("cd -",function(n){process.chdir(origCwd),n.end()}),n.end()});