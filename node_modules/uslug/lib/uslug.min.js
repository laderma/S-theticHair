!function(){var e=require("./L").L,n=require("./N").N,t=require("./Z").Z,r=require("unorm"),a=function(r){return~e.indexOf(r)?"L":~n.indexOf(r)?"N":~t.indexOf(r)?"Z":void 0};module.exports=function(e,n){e=e||"",n=n||{};for(var t=n.allowedChars||"-_~",i="boolean"==typeof n.lower?n.lower:!0,s="boolean"==typeof n.spaces?n.spaces:!1,o=[],l=r.nfkc(e),u=0;u<l.length;u++){var d=l[u],c=d.charCodeAt(0);if(c>=19968&&40959>=c)o.push(d);else if(-1==t.indexOf(d)){var h=a(c);h&&~"LN".indexOf(h)&&o.push(d),h&&~"Z".indexOf(h)&&o.push(" ")}else o.push(d)}var f=o.join("").replace(/^\s+|\s+$/g,"").replace(/\s+/g," ");return s||(f=f.replace(/[\s\-]+/g,"-")),i&&(f=f.toLowerCase()),f}}();