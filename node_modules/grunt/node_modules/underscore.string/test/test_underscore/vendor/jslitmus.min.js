!function(){var e="unknown platform",n=navigator.userAgent,t=["Windows","iPhone OS","(Intel |PPC )?Mac OS X","Linux"].join("|"),r=new RegExp("(("+t+") [^ );]*)").test(n)?RegExp.$1:null;r||(r=new RegExp("(("+t+")[^ );]*)").test(n)?RegExp.$1:null);var i=/(Chrome|MSIE|Safari|Opera|Firefox)/.test(n)?RegExp.$1:null,a=new RegExp("(Version|"+i+")[ /]([^ ;]*)"),o=i&&a.test(n)?RegExp.$2:null,e=r&&i&&o?i+" "+o+" on "+r:"unknown platform",s={escape:function(e){return e=e.replace(/,/g,"\\,"),e=escape(e),e=e.replace(/\+/g,"%2b"),e=e.replace(/ /g,"+")},$:function(e){return document.getElementById(e)},F:function(){},status:function(e){var n=s.$("jsl_status");n&&(n.innerHTML=e||"")},toLabel:function(e){return e==1/0?"Infinity":e>1e9?(e=Math.round(e/1e8),e/10+"B"):e>1e6?(e=Math.round(e/1e5),e/10+"M"):e>1e3?(e=Math.round(e/100),e/10+"K"):e},extend:function(e,n){for(var t in n)e[t]=n[t];return e},join:function(e,n,t){if(e.join)return e.join(n);var r=[];for(var i in e)r.push(i+n+e[i]);return r.join(t)},indexOf:function(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0;t<this.length;t++)if(e[t]===n)return t;return-1}},l=function(e,n){if(!n)throw new Error("Undefined test function");if(!/function[^\(]*\(([^,\)]*)/.test(n.toString()))throw new Error('"'+e+'" test: Test is not a valid Function object');this.loopArg=RegExp.$1,this.name=e,this.f=n};s.extend(l,{CALIBRATIONS:[new l("calibrating loop",function(e){for(;e--;);}),new l("calibrating function",s.F)],calibrate:function(e){for(var n=0;n<l.CALIBRATIONS.length;n++){var t=l.CALIBRATIONS[n];if(t.running)return!0;if(!t.count)return t.isCalibration=!0,t.onStop=e,t.run(2e4),!0}return!1}}),s.extend(l.prototype,{INIT_COUNT:10,MAX_COUNT:1e9,MIN_TIME:.5,onChange:s.F,onStop:s.F,reset:function(){delete this.count,delete this.time,delete this.running,delete this.error},run:function(e){e=e||this.INIT_COUNT,s.status(this.name+" x "+e),this.running=!0;var n=this;setTimeout(function(){n._run(e)},200)},_run:function(e){var n=this;if(n.isCalibration||!l.calibrate(function(){n.run(e)})){this.error=null;try{var t,r=this.f,a=e;if(t=new Date,this.loopArg)r(e);else for(;a--;)r();if(this.time=Math.max(1,new Date-t)/1e3,this.count=e,this.period=this.time/e,this.running=this.time<=this.MIN_TIME,this.running){var o=this.MIN_TIME/this.time,u=Math.pow(2,Math.max(1,Math.ceil(Math.log(o)/Math.log(2))));if(e*=u,e>this.MAX_COUNT)throw new Error("Max count exceeded.  If this test uses a looping function, make sure the iteration loop is working properly.")}}catch(c){this.reset(),this.error=c}this.running?n.run(e):(s.status(""),n.onStop(n)),this.onChange(this)}},getHz:function(e){var n=this.period;if(e&&!this.isCalibration){var t=l.CALIBRATIONS[this.loopArg?0:1];n=n<1.2*t.period?0:n-t.period}return Math.round(1/n)},toString:function(){return this.name+" - "+this.time/this.count+" secs"}});var u="<style>     #jslitmus {font-family:sans-serif; font-size: 12px;}     #jslitmus a {text-decoration: none;}     #jslitmus a:hover {text-decoration: underline;}     #jsl_status {       margin-top: 10px;       font-size: 10px;       color: #888;     }     A IMG  {border:none}     #test_results {       margin-top: 10px;       font-size: 12px;       font-family: sans-serif;       border-collapse: collapse;       border-spacing: 0px;     }     #test_results th, #test_results td {       border: solid 1px #ccc;       vertical-align: top;       padding: 3px;     }     #test_results th {       vertical-align: bottom;       background-color: #ccc;       padding: 1px;       font-size: 10px;     }     #test_results #test_platform {       color: #444;       text-align:center;     }     #test_results .test_row {       color: #006;       cursor: pointer;     }     #test_results .test_nonlooping {       border-left-style: dotted;       border-left-width: 2px;     }     #test_results .test_looping {       border-left-style: solid;       border-left-width: 2px;     }     #test_results .test_name {white-space: nowrap;}     #test_results .test_pending {     }     #test_results .test_running {       font-style: italic;     }     #test_results .test_done {}     #test_results .test_done {       text-align: right;       font-family: monospace;     }     #test_results .test_error {color: #600;}     #test_results .test_error .error_head {font-weight:bold;}     #test_results .test_error .error_body {font-size:85%;}     #test_results .test_row:hover td {       background-color: #ffc;       text-decoration: underline;     }     #chart {       margin: 10px 0px;       width: 250px;     }     #chart img {       border: solid 1px #ccc;       margin-bottom: 5px;     }     #chart #tiny_url {       height: 40px;       width: 250px;     }     #jslitmus_credit {       font-size: 10px;       color: #888;       margin-top: 8px;     }     </style>",c='<div id="jslitmus">       <button onclick="JSLitmus.runAll(event)">Run Tests</button>       <button id="stop_button" disabled="disabled" onclick="JSLitmus.stop()">Stop Tests</button>       <br >       <br >       <input type="checkbox" style="vertical-align: middle" id="test_normalize" checked="checked" onchange="JSLitmus.renderAll()""> Normalize results       <table id="test_results">         <colgroup>           <col />           <col width="100" />         </colgroup>         <tr><th id="test_platform" colspan="2">'+e+'</th></tr>         <tr><th>Test</th><th>Ops/sec</th></tr>         <tr id="test_row_template" class="test_row" style="display:none">           <td class="test_name"></td>           <td class="test_result">Ready</td>         </tr>       </table>       <div id="jsl_status"></div>       <div id="chart" style="display:none">       <a id="chart_link" target="_blank"><img id="chart_image"></a>       TinyURL (for chart):       <iframe id="tiny_url" frameBorder="0" scrolling="no" src=""></iframe>       </div>       <a id="jslitmus_credit" title="JSLitmus home page" href="http://code.google.com/p/jslitmus" target="_blank">Powered by JSLitmus</a>     </div>';window.JSLitmus={_tests:[],_queue:[],params:{},_init:function(){var e=(location+"").match(/([^?#]*)(#.*)?$/);if(e)for(var n=e[1].split("&"),t=0;t<n.length;t++){var r=n[t].split("=");if(r.length>1){var i=r.shift(),a=r.length>1?r.join("="):r[0];this.params[i]=a}}return document.write(u),window.addEventListener?window.addEventListener("load",this._setup,!1):document.addEventListener?document.addEventListener("load",this._setup,!1):window.attachEvent&&window.attachEvent("onload",this._setup),this},_setup:function(){var e=s.$("jslitmus_container");e||document.body.appendChild(e=document.createElement("div")),e.innerHTML=c;for(var n=0;n<JSLitmus._tests.length;n++)JSLitmus.renderTest(JSLitmus._tests[n])},renderAll:function(){for(var e=0;e<JSLitmus._tests.length;e++)JSLitmus.renderTest(JSLitmus._tests[e]);JSLitmus.renderChart()},renderChart:function(){var e=JSLitmus.chartUrl();s.$("chart_link").href=e,s.$("chart_image").src=e,s.$("chart").style.display="",s.$("tiny_url").src="http://tinyurl.com/api-create.php?url="+escape(e)},renderTest:function(e){if(!e._row){var n=s.$("test_row_template");if(!n)return;e._row=n.cloneNode(!0),e._row.style.display="",e._row.id="",e._row.onclick=function(){JSLitmus._queueTest(e)},e._row.title="Run "+e.name+" test",n.parentNode.appendChild(e._row),e._row.cells[0].innerHTML=e.name}var t=e._row.cells[1],r=[e.loopArg?"test_looping":"test_nonlooping"];if(e.error)r.push("test_error"),t.innerHTML='<div class="error_head">'+e.error+'</div><ul class="error_body"><li>'+s.join(e.error,": ","</li><li>")+"</li></ul>";else if(e.running)r.push("test_running"),t.innerHTML="running";else if(s.indexOf(JSLitmus._queue,e)>=0)r.push("test_pending"),t.innerHTML="pending";else if(e.count){r.push("test_done");var i=e.getHz(s.$("test_normalize").checked);t.innerHTML=i!=1/0?i:"&infin;"}else t.innerHTML="ready";t.className=r.join(" ")},test:function(e,n){var t=new l(e,n);JSLitmus._tests.push(t),t.onChange=JSLitmus.renderTest,t.onStop=function(e){JSLitmus.onTestFinish&&JSLitmus.onTestFinish(e),JSLitmus.currentTest=null,JSLitmus._nextTest()},this.renderTest(t)},runAll:function(e){e=e||window.event;for(var n=e&&e.shiftKey,t=JSLitmus._tests.length,r=0;t>r;r++)JSLitmus._queueTest(JSLitmus._tests[n?t-r-1:r])},stop:function(){for(;JSLitmus._queue.length;){var e=JSLitmus._queue.shift();JSLitmus.renderTest(e)}},_nextTest:function(){if(!JSLitmus.currentTest){var e=JSLitmus._queue.shift();e?(s.$("stop_button").disabled=!1,JSLitmus.currentTest=e,e.run(),JSLitmus.renderTest(e),JSLitmus.onTestStart&&JSLitmus.onTestStart(e)):(s.$("stop_button").disabled=!0,JSLitmus.renderChart())}},_queueTest:function(e){s.indexOf(JSLitmus._queue,e)>=0||(JSLitmus._queue.push(e),JSLitmus.renderTest(e),JSLitmus._nextTest())},chartUrl:function(){for(var t=(JSLitmus._tests.length,[]),r=[],a=0,o=-1e10,l=s.$("test_normalize").checked,u=0;u<JSLitmus._tests.length;u++){var c=JSLitmus._tests[u];if(c.count){var f=c.getHz(l),d=f!=1/0?f:0;r.push(d),t.push("t"+s.escape(c.name+"("+s.toLabel(f)+")")+",000000,0,"+t.length+",10"),o=Math.max(d,o)}}if(t.length<=0)return null;var h=document.getElementsByTagName("title");h=h&&h.length?h[0].innerHTML:null;var p=[];h&&p.push(h),p.push("Ops/sec ("+e+")");var m=[s.toLabel(a),s.toLabel(o)],g=250,v=15,b=5,y=t.length*(v+b)+30+20*p.length,_={chtt:escape(p.join("|")),chts:"000000,10",cht:"bhg",chd:"t:"+r.join(","),chds:a+","+o,chxt:"x",chxl:"0:|"+m.join("|"),chsp:"0,1",chm:t.join("|"),chbh:[v,0,b].join(","),chs:g+"x"+y};return"http://chart.apis.google.com/chart?"+s.join(_,"=","&")}},JSLitmus._init()}();