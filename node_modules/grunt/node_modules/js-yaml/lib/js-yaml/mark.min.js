"use strict";function Mark(e,n,t,r,a){this.name=e,this.buffer=n,this.position=t,this.line=r,this.column=a}var common=require("./common");Mark.prototype.getSnippet=function(e,n){var t,r,a,i,o;if(!this.buffer)return null;for(e=e||4,n=n||75,t="",r=this.position;r>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>n/2-1){t=" ... ",r+=5;break}for(a="",i=this.position;i<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(i));)if(i+=1,i-this.position>n/2-1){a=" ... ",i-=5;break}return o=this.buffer.slice(r,i),common.repeat(" ",e)+t+o+a+"\n"+common.repeat(" ",e+this.position-r+t.length)+"^"},Mark.prototype.toString=function(e){var n,t="";return this.name&&(t+='in "'+this.name+'" '),t+="at line "+(this.line+1)+", column "+(this.column+1),e||(n=this.getSnippet(),n&&(t+=":\n"+n)),t},module.exports=Mark;