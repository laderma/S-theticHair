"use strict";require("colors");var _=require("lodash");_.str=require("underscore.string"),_.mixin(_.str.exports()),exports.wordlist=function(e,n){return n=_.defaults(n||{},{separator:", ",color:"cyan"}),e.map(function(e){return n.color?String(e)[n.color]:e}).join(n.separator)},exports.uncolor=function(e){return e.replace(/\x1B\[\d+m/g,"")},exports.wraptext=function(e,n){for(var r,a,i,t=[],o=[],s=0;r=n.match(/(?:(\x1B\[\d+m)|\n|(.))([\s\S]*)/);)if(n=r[3],r[1])a=r[1],o.push(r[1]);else{if(r[2]){if(0===s&&a&&o.push(a),o.push(r[2]),s++,e>=s||" "===r[2])continue;i=o.lastIndexOf(" "),n=o.slice(-1===i?i:i+1).join("")+n,o=o.slice(0,i)}t.push(o.join("")),o=[],s=0}return t.push(o.join("")),t.join("\n")},exports.table=function(e,n){var t=[];e.forEach(function(e,r){var a=this.wraptext(e,n[r]).split("\n");a.forEach(function(e,n){var a=t[n];a||(a=t[n]=[]),a[r]=e})},this);var r=[];return t.forEach(function(n){for(var a,t="",i=0;i<n.length;i++){a=n[i]||"",t+=a;var o=e[i]-this.uncolor(a).length;o>0&&(t+=_.repeat(" ",o))}r.push(t)},this),r.join("\n")};