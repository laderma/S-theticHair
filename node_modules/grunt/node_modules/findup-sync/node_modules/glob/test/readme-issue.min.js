var test=require("tap").test,glob=require("../"),mkdirp=require("mkdirp"),fs=require("fs"),rimraf=require("rimraf"),dir=__dirname+"/package";test("setup",function(e){mkdirp.sync(dir),fs.writeFileSync(dir+"/package.json","{}","ascii"),fs.writeFileSync(dir+"/README","x","ascii"),e.pass("setup done"),e.end()}),test("glob",function(e){var n={cwd:dir,nocase:!0,mark:!0};glob("README?(.*)",n,function(n,t){if(n)throw n;e.same(t,["README"]),e.end()})}),test("cleanup",function(e){rimraf.sync(dir),e.pass("clean"),e.end()});