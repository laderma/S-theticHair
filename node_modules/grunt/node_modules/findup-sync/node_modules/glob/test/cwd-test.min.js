var tap=require("tap"),origCwd=process.cwd();process.chdir(__dirname),tap.test("changing cwd and searching for **/d",function(e){var n=require("../"),t=require("path");e.test(".",function(e){n("**/d",function(n,t){e.ifError(n),e.like(t,["a/b/c/d","a/c/d"]),e.end()})}),e.test("a",function(e){n("**/d",{cwd:t.resolve("a")},function(n,t){e.ifError(n),e.like(t,["b/c/d","c/d"]),e.end()})}),e.test("a/b",function(e){n("**/d",{cwd:t.resolve("a/b")},function(n,t){e.ifError(n),e.like(t,["c/d"]),e.end()})}),e.test("a/b/",function(e){n("**/d",{cwd:t.resolve("a/b/")},function(n,t){e.ifError(n),e.like(t,["c/d"]),e.end()})}),e.test(".",function(e){n("**/d",{cwd:process.cwd()},function(n,t){e.ifError(n),e.like(t,["a/b/c/d","a/c/d"]),e.end()})}),e.test("cd -",function(e){process.chdir(origCwd),e.end()}),e.end()});