var glob=require("../"),test=require("tap").test,path=require("path");test("stat all the things",function(e){var n=new glob.Glob("a/*abc*/**",{stat:!0,cwd:__dirname}),t=[];n.on("match",function(e){t.push(e)});var r=[];n.on("stat",function(e){r.push(e)}),n.on("end",function(n){r=r.sort(),t=t.sort(),n=n.sort(),e.same(r,t),e.same(n,t);var i=Object.keys(this.statCache);e.same(i.map(function(e){return path.relative(__dirname,e)}).sort(),t),i.forEach(function(n){e.equal(typeof this.statCache[n],"object")},this),e.end()})});