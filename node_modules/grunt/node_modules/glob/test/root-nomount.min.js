var tap=require("tap"),origCwd=process.cwd();process.chdir(__dirname),tap.test("changing root and searching for /b*/**",function(e){var n=require("../"),t=require("path");e.test(".",function(e){n("/b*/**",{globDebug:!0,root:".",nomount:!0},function(n,t){e.ifError(n),e.like(t,[]),e.end()})}),e.test("a",function(e){n("/b*/**",{globDebug:!0,root:t.resolve("a"),nomount:!0},function(n,t){e.ifError(n),e.like(t,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]),e.end()})}),e.test("root=a, cwd=a/b",function(e){n("/b*/**",{globDebug:!0,root:"a",cwd:t.resolve("a/b"),nomount:!0},function(n,t){e.ifError(n),e.like(t,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]),e.end()})}),e.test("cd -",function(e){process.chdir(origCwd),e.end()}),e.end()});