"use strict";var RingBuffer=function(e){this._buffer=new Array(e),this._bufferSize=e,this._ringOffset=0,this._ringSize=e,this._head=0,this._tail=0,this.length=0};RingBuffer.prototype.push=function(e){var n=!1,t=!1;this._ringSize<this._bufferSize?n=0===this._tail:this._ringOffset===this._ringSize&&(n=!0,t=0===this._tail),n&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(new Array(this._bufferSize)),this._bufferSize=this._buffer.length,t&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=e,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},RingBuffer.prototype.peek=function(){return 0===this.length?void 0:this._buffer[this._head]},RingBuffer.prototype.shift=function(){if(0===this.length)return void 0;var e=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,e},module.exports=RingBuffer;