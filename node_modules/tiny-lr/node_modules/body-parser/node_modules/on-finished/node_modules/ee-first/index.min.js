function listener(e,n){return function(t){for(var r=new Array(arguments.length),i=this,a="error"===e?t:null,o=0;o<r.length;o++)r[o]=arguments[o];n(a,i,e,r)}}module.exports=function(e,n){function l(){for(var e,r=0;r<t.length;r++)e=t[r],e.ee.removeListener(e.event,e.fn);n.apply(null,arguments)}if(!Array.isArray(e))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var t=[],r=0;r<e.length;r++){var i=e[r];if(!Array.isArray(i)||i.length<2)throw new TypeError("each array member must be [ee, events...]");for(var a=i[0],o=1;o<i.length;o++){var s=i[o],u=listener(s,l);a.on(s,u),t.push({ee:a,event:s,fn:u})}}return function(e){n=e}};