var internals={};exports.arrayToObject=function(e){for(var n={},t=0,r=e.length;r>t;++t)"undefined"!=typeof e[t]&&(n[t]=e[t]);return n},exports.merge=function(e,n){if(!n)return e;if(Array.isArray(n)){for(var t=0,r=n.length;r>t;++t)"undefined"!=typeof n[t]&&("object"==typeof e[t]?e[t]=exports.merge(e[t],n[t]):e[t]=n[t]);return e}if(Array.isArray(e)){if("object"!=typeof n)return e.push(n),e;e=exports.arrayToObject(e)}for(var i=Object.keys(n),a=0,o=i.length;o>a;++a){var s=i[a],u=n[s];u&&"object"==typeof u&&e[s]?e[s]=exports.merge(e[s],u):e[s]=u}return e},exports.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(n){return e}},exports.compact=function(e,n){if("object"!=typeof e||null===e)return e;n=n||[];var t=n.indexOf(e);if(-1!==t)return n[t];if(n.push(e),Array.isArray(e)){for(var r=[],i=0,a=e.length;a>i;++i)"undefined"!=typeof e[i]&&r.push(e[i]);return r}for(var o=Object.keys(e),i=0,s=o.length;s>i;++i){var u=o[i];e[u]=exports.compact(e[u],n)}return e},exports.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},exports.isBuffer=function(e){return"undefined"!=typeof Buffer?Buffer.isBuffer(e):!1};