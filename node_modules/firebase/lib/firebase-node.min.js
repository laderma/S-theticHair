function g(n){throw n}function aa(n){return function(){return this[n]}}function r(n){return function(){return n}}function ca(){}function da(n){n.tb=function(){return n.dd?n.dd:n.dd=new n}}function ea(n){var e=typeof n;if("object"==e){if(!n)return"null";if(n instanceof Array)return"array";if(n instanceof Object)return e;var t=Object.prototype.toString.call(n);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof n.length&&"undefined"!=typeof n.splice&&"undefined"!=typeof n.propertyIsEnumerable&&!n.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||"undefined"!=typeof n.call&&"undefined"!=typeof n.propertyIsEnumerable&&!n.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof n.call)return"object";return e}function u(n){return n!==j}function fa(n){var e=ea(n);return"array"==e||"object"==e&&"number"==typeof n.length}function v(n){return"string"==typeof n}function ga(n){return"number"==typeof n}function ha(n){var e=typeof n;return"object"==e&&n!=m||"function"==e}function ia(n,e,t){return n.call.apply(n.bind,arguments)}function ja(n,e,t){if(n||g(Error()),2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),n.apply(e,t)}}return function(){return n.apply(e,arguments)}}function w(n,e,t){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja,w.apply(m,arguments)}function ka(n,e){function t(){}t.prototype=e.prototype,n.be=e.prototype,n.prototype=new t}function la(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function ma(){this.mc=j}function na(n,e,t){switch(typeof e){case"string":oa(e,t);break;case"number":t.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":t.push(e);break;case"undefined":t.push("null");break;case"object":if(e==m){t.push("null");break}if("array"==ea(e)){var r=e.length;t.push("[");for(var a="",i=0;r>i;i++)t.push(a),a=e[i],na(n,n.mc?n.mc.call(e,String(i),a):a,t),a=",";t.push("]");break}t.push("{"),r="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a=e[i],"function"!=typeof a&&(t.push(r),oa(i,t),t.push(":"),na(n,n.mc?n.mc.call(e,i,a):a,t),r=","));t.push("}");break;case"function":break;default:g(Error("Unknown type: "+typeof e))}}function oa(n,e){e.push('"',n.replace(qa,function(n){if(n in pa)return pa[n];var e=n.charCodeAt(0),t="\\u";return 16>e?t+="000":256>e?t+="00":4096>e&&(t+="0"),pa[n]=t+e.toString(16)}),'"')}function ra(n){return"undefined"!=typeof JSON&&u(JSON.parse)?JSON.parse(n):la(n)}function y(n){if("undefined"!=typeof JSON&&u(JSON.stringify))n=JSON.stringify(n);else{var e=[];na(new ma,n,e),n=e.join("")}return n}function sa(n){for(var e=[],t=0,r=0;r<n.length;r++){var a=n.charCodeAt(r);a>=55296&&56319>=a&&(a-=55296,r++,z(r<n.length,"Surrogate pair missing trail surrogate."),a=65536+(a<<10)+(n.charCodeAt(r)-56320)),128>a?e[t++]=a:(2048>a?e[t++]=a>>6|192:(65536>a?e[t++]=a>>12|224:(e[t++]=a>>18|240,e[t++]=a>>12&63|128),e[t++]=a>>6&63|128),e[t++]=63&a|128)}return e}function A(n,e,t,r){var a;e>r?a="at least "+e:r>t&&(a=0===t?"none":"no more than "+t),a&&g(Error(n+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+a+"."))}function B(n,e,t){var r="";switch(e){case 1:r=t?"first":"First";break;case 2:r=t?"second":"Second";break;case 3:r=t?"third":"Third";break;case 4:r=t?"fourth":"Fourth";break;default:ta.assert(o,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return n+" failed: "+(r+" argument ")}function C(n,e,t,r){(!r||u(t))&&"function"!=ea(t)&&g(Error(B(n,e,r)+"must be a valid function."))}function ua(n,e,t){u(t)&&(!ha(t)||t===m)&&g(Error(B(n,e,k)+"must be a valid context object."))}function D(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function va(n,e){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0}function ya(n){return v(n)&&0!==n.length&&!wa.test(n)}function za(n,e,t){(!t||u(e))&&Aa(B(n,1,t),e)}function Aa(n,e,t,r){if(t||(t=0),r||(r=[]),u(e)||g(Error(n+"contains undefined"+Ba(r))),"function"==ea(e)&&g(Error(n+"contains a function"+Ba(r)+" with contents: "+e.toString())),Ca(e)&&g(Error(n+"contains "+e.toString()+Ba(r))),t>1e3&&g(new TypeError(n+"contains a cyclic object value ("+r.slice(0,100).join(".")+"...)")),v(e)&&e.length>10485760/3&&10485760<sa(e).length&&g(Error(n+"contains a string greater than 10485760 utf8 bytes"+Ba(r)+" ('"+e.substring(0,50)+"...')")),ha(e))for(var a in e)D(e,a)&&(".priority"!==a&&".value"!==a&&".sv"!==a&&!ya(a)&&g(Error(n+"contains an invalid key ("+a+")"+Ba(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),r.push(a),Aa(n,e[a],t+1,r),r.pop())}function Ba(n){return 0==n.length?"":" in property '"+n.join(".")+"'"}function Da(n,e){ha(e)||g(Error(B(n,1,o)+" must be an object containing the children to replace.")),za(n,e,o)}function Ea(n,e,t,r){(!r||u(t))&&t!==m&&!ga(t)&&!v(t)&&(!ha(t)||!D(t,".sv"))&&g(Error(B(n,e,r)+"must be a valid firebase priority (a string, number, or null)."))}function Fa(n,e,t){if(!t||u(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:g(Error(B(n,1,t)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}function Ga(n,e){u(e)&&!ya(e)&&g(Error(B(n,2,k)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").'))}function Ha(n,e){(!v(e)||0===e.length||xa.test(e))&&g(Error(B(n,1,o)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"'))}function E(n,e){".info"===F(e)&&g(Error(n+" failed: Can't modify data under /.info/"))}function H(n,e,t,r,a,i,s){this.n=n,this.path=e,this.Ea=t,this.ga=r,this.ya=a,this.Ca=i,this.Wa=s,u(this.ga)&&u(this.Ca)&&u(this.Ea)&&g("Query: Can't combine startAt(), endAt(), and limit().")}function Ja(n){var e={};return u(n.ga)&&(e.sp=n.ga),u(n.ya)&&(e.sn=n.ya),u(n.Ca)&&(e.ep=n.Ca),u(n.Wa)&&(e.en=n.Wa),u(n.Ea)&&(e.l=n.Ea),u(n.ga)&&u(n.ya)&&n.ga===m&&n.ya===m&&(e.vf="l"),e}function Ia(n,e,t){var r={};return e&&t?(r.cancel=e,C(n,3,r.cancel,k),r.U=t,ua(n,4,r.U)):e&&("object"==typeof e&&e!==m?r.U=e:"function"==typeof e?r.cancel=e:g(Error(B(n,3,k)+"must either be a cancel callback or a context object."))),r}function K(n){if(n instanceof K)return n;if(1==arguments.length){this.m=n.split("/");for(var e=0,t=0;t<this.m.length;t++)0<this.m[t].length&&(this.m[e]=this.m[t],e++);this.m.length=e,this.aa=0}else this.m=arguments[0],this.aa=arguments[1]}function F(n){return n.aa>=n.m.length?m:n.m[n.aa]}function La(n){var e=n.aa;return e<n.m.length&&e++,new K(n.m,e)}function Ma(n,e){var t=F(n);return t===m?e:t===F(e)?Ma(La(n),La(e)):void g("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Na(){this.children={},this.Vb=0,this.value=m}function Oa(n,e,t){this.Fa=n?n:"",this.Hb=e?e:m,this.w=t?t:new Na}function L(n,e){for(var a,t=e instanceof K?e:new K(e),r=n;(a=F(t))!==m;)r=new Oa(a,r,va(r.w.children,a)||new Na),t=La(t);return r}function M(n,e){z("undefined"!=typeof e),n.w.value=e,Pa(n)}function Qa(n,e,t,r){t&&!r&&e(n),n.z(function(n){Qa(n,e,k,r)}),t&&r&&e(n)}function Ra(n,e,t){for(n=t?n:n.parent();n!==m;){if(e(n))return k;n=n.parent()}return o}function Pa(n){if(n.Hb!==m){var e=n.Hb,t=n.Fa,r=n.f(),a=D(e.w.children,t);r&&a?(delete e.w.children[t],e.w.Vb--,Pa(e)):!r&&!a&&(e.w.children[t]=n.w,e.w.Vb++,Pa(e))}}function Sa(n,e){this.Ta=n?n:Ta,this.fa=e?e:Ua}function Ta(n,e){return e>n?-1:n>e?1:0}function Va(n,e){for(var t,r=n.fa,a=m;!r.f();){if(t=n.Ta(e,r.key),0===t){if(r.left.f())return a?a.key:m;for(r=r.left;!r.right.f();)r=r.right;return r.key}0>t?r=r.left:t>0&&(a=r,r=r.right)}g(Error("Attempted to find predecessor key for a nonexistent key.  What gives?"))}function Wa(n,e){for(this.md=e,this.$b=[];!n.f();)this.$b.push(n),n=n.left}function Xa(n){if(0===n.$b.length)return m;var t,e=n.$b.pop();for(t=n.md?n.md(e.key,e.value):{key:e.key,value:e.value},e=e.right;!e.f();)n.$b.push(e),e=e.left;return t}function Ya(n,e,t,r,a){this.key=n,this.value=e,this.color=t!=m?t:k,this.left=r!=m?r:Ua,this.right=a!=m?a:Ua}function Za(n){return n.left.f()?n:Za(n.left)}function cb(n){return n.left.f()?Ua:(!n.left.P()&&!n.left.left.P()&&(n=db(n)),n=n.copy(m,m,m,cb(n.left),m),$a(n))}function $a(n){return n.right.P()&&!n.left.P()&&(n=gb(n)),n.left.P()&&n.left.left.P()&&(n=eb(n)),n.left.P()&&n.right.P()&&(n=fb(n)),n}function db(n){return n=fb(n),n.right.left.P()&&(n=n.copy(m,m,m,m,eb(n.right)),n=gb(n),n=fb(n)),n}function gb(n){var e;return e=n.copy(m,m,k,m,n.right.left),n.right.copy(m,m,n.color,e,m)}function eb(n){var e;return e=n.copy(m,m,k,n.left.right,m),n.left.copy(m,m,n.color,m,e)}function fb(n){var e,t;return e=n.left.copy(m,m,!n.left.color,m,m),t=n.right.copy(m,m,!n.right.color,m,m),n.copy(m,m,!n.color,e,t)}function hb(){}function lb(){}function mb(){this.B=[],this.tc=[],this.vd=[],this.fc=[],this.fc[0]=128;for(var n=1;64>n;++n)this.fc[n]=0;this.reset()}function nb(n,e){var t;t||(t=0);for(var r=n.vd,a=t;t+64>a;a+=4)r[a/4]=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3];for(a=16;80>a;a++){var i=r[a-3]^r[a-8]^r[a-14]^r[a-16];r[a]=4294967295&(i<<1|i>>>31)}t=n.B[0];for(var c,s=n.B[1],o=n.B[2],l=n.B[3],u=n.B[4],a=0;80>a;a++)40>a?20>a?(i=l^s&(o^l),c=1518500249):(i=s^o^l,c=1859775393):60>a?(i=s&o|l&(s|o),c=2400959708):(i=s^o^l,c=3395469782),i=(t<<5|t>>>27)+i+u+c+r[a]&4294967295,u=l,l=o,o=4294967295&(s<<30|s>>>2),s=t,t=i;n.B[0]=n.B[0]+t&4294967295,n.B[1]=n.B[1]+s&4294967295,n.B[2]=n.B[2]+o&4294967295,n.B[3]=n.B[3]+l&4294967295,n.B[4]=n.B[4]+u&4294967295}function ob(){this.Sa={},this.length=0}function rb(n,e,t,r){this.host=n.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Pb=e,this.ab=t,this.X=r||pb.getItem(n)||this.host}function sb(n,e){e!==n.X&&(n.X=e,"s-"===n.X.substr(0,2)&&pb.setItem(n.host,n.X))}function xb(){return ba.navigator?ba.navigator.userAgent:m}function Hb(n,e){if(fa(n)||g(Error("encodeByteArray takes an array as a parameter")),!Fb){Fb={},Gb={};for(var t=0;65>t;t++)Fb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Gb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)}for(var t=e?Gb:Fb,r=[],a=0;a<n.length;a+=3){var i=n[a],s=a+1<n.length,o=s?n[a+1]:0,l=a+2<n.length,u=l?n[a+2]:0,c=i>>2,i=(3&i)<<4|o>>4,o=(15&o)<<2|u>>6,u=63&u;l||(u=64,s||(o=64)),r.push(t[c],t[i],t[o],t[u])}return r.join("")}function z(n,e){n||g(Error("Firebase INTERNAL ASSERT FAILED:"+e))}function Kb(n){return n=sa(n),Hb(n,k)}function Lb(n){var e=sa(n),n=new mb;n.update(e);var e=[],t=8*n.Vc;56>n.vb?n.update(n.fc,56-n.vb):n.update(n.fc,64-(n.vb-56));for(var r=63;r>=56;r--)n.tc[r]=255&t,t/=256;for(nb(n,n.tc),r=t=0;5>r;r++)for(var a=24;a>=0;a-=8)e[t++]=n.B[r]>>a&255;return Hb(e)}function Mb(){for(var n="",e=0;e<arguments.length;e++)n=fa(arguments[e])?n+Mb.apply(m,arguments[e]):"object"==typeof arguments[e]?n+y(arguments[e]):n+arguments[e],n+=" ";return n}function Pb(){if(Ob===k&&(Ob=o,Nb===m&&"true"===pb.getItem("logging_enabled")&&Qb(k)),Nb){var n=Mb.apply(m,arguments);Nb(n)}}function Rb(n){return function(){Pb(n,arguments)}}function Sb(){if("undefined"!=typeof console){var n="FIREBASE INTERNAL ERROR: "+Mb.apply(m,arguments);"undefined"!=typeof console.error?console.error(n):console.log(n)}}function Tb(){var n=Mb.apply(m,arguments);g(Error("FIREBASE FATAL ERROR: "+n))}function N(){if("undefined"!=typeof console){var n="FIREBASE WARNING: "+Mb.apply(m,arguments);"undefined"!=typeof console.warn?console.warn(n):console.log(n)}}function Ca(n){return ga(n)&&(n!=n||n==Number.POSITIVE_INFINITY||n==Number.NEGATIVE_INFINITY)}function Ub(n,e){return n!==e?n===m?-1:e===m?1:typeof n!=typeof e?"number"==typeof n?-1:1:n>e?1:-1:0}function Vb(n,e){if(n===e)return 0;var t=Wb(n),r=Wb(e);return t!==m?r!==m?t-r:-1:r!==m?1:e>n?-1:1}function Xb(n,e){return e&&n in e?e[n]:void g(Error("Missing required key ("+n+") in object: "+y(e)))}function Ka(n){if("object"!=typeof n||n===m)return y(n);var t,e=[];for(t in n)e.push(t);e.sort(),t="{";for(var r=0;r<e.length;r++)0!==r&&(t+=","),t+=y(e[r]),t+=":",t+=Ka(n[e[r]]);return t+"}"}function Yb(n,e){if(n.length<=e)return[n];for(var t=[],r=0;r<n.length;r+=e)r+e>n?t.push(n.substring(r,n.length)):t.push(n.substring(r,r+e));return t}function Zb(n,e){if("array"==ea(n))for(var t=0;t<n.length;++t)e(t,n[t]);else $b(n,e)}function ac(n){z(!Ca(n));var e,t,r,a;for(0===n?(r=t=0,e=-(1/0)===1/n?1:0):(e=0>n,n=Math.abs(n),n>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(n)/Math.LN2),1023),t=r+1023,r=Math.round(n*Math.pow(2,52-r)-Math.pow(2,52))):(t=0,r=Math.round(n/Math.pow(2,-1074)))),a=[],n=52;n;n-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(n=11;n;n-=1)a.push(t%2?1:0),t=Math.floor(t/2);for(a.push(e?1:0),a.reverse(),e=a.join(""),t="",n=0;64>n;n+=8)r=parseInt(e.substr(n,8),2).toString(16),1===r.length&&(r="0"+r),t+=r;return t.toLowerCase()}function Wb(n){return bc.test(n)&&(n=Number(n),n>=-2147483648&&2147483647>=n)?n:m}function cc(n){try{n()}catch(e){setTimeout(function(){g(e)})}}function dc(n,e){this.F=n,z(this.F!==m,"LeafNode shouldn't be created with null value."),this.eb="undefined"!=typeof e?e:m}function fc(n,e){return Ub(n.la,e.la)||Vb(n.name,e.name)}function gc(n,e){return Vb(n.name,e.name)}function hc(n,e){return Vb(n,e)}function Q(n,e){this.o=n||new Sa(hc),this.eb="undefined"!=typeof e?e:m}function ic(n,e,t){Q.call(this,n,t),e===m&&(e=new Sa(fc),n.Da(function(n,t){e=e.ra({name:n,la:t.j()},t)})),this.xa=e}function R(n,e){if(n===m)return P;var t=m;if("object"==typeof n&&".priority"in n?t=n[".priority"]:"undefined"!=typeof e&&(t=e),z(t===m||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t),"object"==typeof n&&".value"in n&&n[".value"]!==m&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new dc(n,t);if(n instanceof Array){var r=P;return $b(n,function(e,t){if(D(n,t)&&"."!==t.substring(0,1)){var a=R(e);(a.O()||!a.f())&&(r=r.I(t,a))}}),r.Ja(t)}var a=[],i={},s=o;Zb(n,function(e,t){if("string"!=typeof t||"."!==t.substring(0,1)){var r=R(n[t]);r.f()||(s=s||r.j()!==m,a.push({name:t,la:r.j()}),i[t]=r)}});var l=kc(a,i,o);if(s){var u=kc(a,i,k);return new ic(l,u,t)}return new Q(l,t)}function mc(n){this.count=parseInt(Math.log(n+1)/lc),this.$c=this.count-1,this.xd=n+1&parseInt(Array(this.count+1).join("1"),2)}function kc(n,e,t){function r(r,i){var s=c-r,o=c;c-=r;var h=n[s].name,s=new Ya(t?n[s]:h,e[h],i,m,a(s+1,o));l?l.left=s:u=s,l=s}function a(r,i){var s=i-r;if(0==s)return m;if(1==s){var s=n[r].name,l=t?n[r]:s;return new Ya(l,e[s],o,m,m)}var l=parseInt(s/2)+r,u=a(r,l),c=a(l+1,i),s=n[l].name,l=t?n[l]:s;return new Ya(l,e[s],o,u,c)}var i=t?fc:gc;n.sort(i);var s,i=new mc(n.length),l=m,u=m,c=n.length;for(s=0;s<i.count;++s){var h=!(i.xd&1<<i.$c);i.$c--;var d=Math.pow(2,i.count-(s+1));h?r(d,o):(r(d,o),r(d,k))}return s=u,i=t?fc:hc,s!==m?new Sa(i,s):new Sa(i)}function ec(n){return"number"==typeof n?"number:"+ac(n):"string:"+n}function S(n,e){this.w=n,this.kc=e}function nc(n){z("array"==ea(n)&&0<n.length),this.wd=n,this.zb={}}function oc(n,e){var r,t=n.wd;n:{r=function(n){return n===e};for(var a=t.length,i=v(t)?t.split(""):t,s=0;a>s;s++)if(s in i&&r.call(j,i[s])){r=s;break n}r=-1}z(0>r?m:v(t)?t.charAt(r):t[r],"Unknown event: "+e)}function qc(){nc.call(this,["visible"]);var n,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",n="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",n="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",n="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",n="webkitHidden")),this.lb=k,e){var t=this;document.addEventListener(e,function(){var e=!document[n];e!==t.lb&&(t.lb=e,t.Xc("visible",e))},o)}}function rc(n){this.Jc=n,this.hc=[],this.Va=0,this.uc=-1,this.Na=m}function sc(n,e,t){for(n.hc[e]=t;n.hc[n.Va];){var r=n.hc[n.Va];delete n.hc[n.Va];for(var a=0;a<r.length;++a)if(r[a]){var i=n;cc(function(){i.Jc(r[a])})}if(n.Va===n.uc){n.Na&&(clearTimeout(n.Na),n.Na(),n.Na=m);break}n.Va++}}function $b(n,e){for(var t in n)e.call(j,n[t],t,n)}function tc(n){var t,e={};for(t in n)e[t]=n[t];return e}function uc(){this.ob={}}function vc(n,e,t){u(t)||(t=1),D(n.ob,e)||(n.ob[e]=0),n.ob[e]+=t}function wc(n){this.yd=n,this.Yb=m}function xc(n,e){this.Sc={},this.nc=new wc(n),this.u=e,setTimeout(w(this.kd,this),10+6e4*Math.random())}function Ac(n){return n=n.toString(),yc[n]||(yc[n]=new uc),yc[n]}function Cc(n,e,t){this.Wb=n,this.e=Rb(n),this.D=e,this.Y=Ac(e),this.Qa=t,this.ca=this.La=o,this.da=new Dc,this.buffer={},this.ea=[],this.Od=function(n){e.host!==e.X&&(n.ns=e.ab);var r,t=[];for(r in n)n.hasOwnProperty(r)&&t.push(r+"="+n[r]);return"/.hp?"+t.join("&")}}function Ec(n,e,t,r){var r=r||"",t=n.Od(t),a=n.D.X,i=a.split(":"),s=n.D.Pb?443:80;1<i.length&&(a=i[0],s=parseInt(i[1])),t=Bc.request({method:"POST",host:a,port:s,path:t},function(t){n.Q&&(clearTimeout(n.Q),n.Q=m);var r=n.da.get(e);r&&clearTimeout(r),n.da.remove(e),n.Ga(),200!=t.statusCode?(n.e("error code received: "+t.statusCode),n.ja()):("x-firebase-poll-id"in t.headers&&"x-firebase-poll-pw"in t.headers&&(n.id=t.headers["x-firebase-poll-id"],n.Ib=t.headers["x-firebase-poll-pw"]),"x-firebase-poll-close"in t.headers&&(n.e("recvd close"),n.mb=o),t.on("data",function(e){e=e.toString(),n.buffer[t]=t in n.buffer?n.buffer[t]+e:e}),t.on("end",function(){if(t in n.buffer){var e=n.buffer[t];delete n.buffer[t];var e=ra(e),r=parseInt(Xb("x-firebase-response",t.headers));sc(n.Nd,r,e)}}))}),t.on("error",function(e){n.e("An error occurred: "+e.message),n.ja()}),t.end(r)}function Gc(n,e,t){this.Wb=n,this.e=Rb(this.Wb),this.frames=this.xb=m,this.Uc=0,this.Y=Ac(e),this.Ua=(e.Pb?"wss://":"ws://")+e.X+"/.ws?v=5",e.host!==e.X&&(this.Ua=this.Ua+"&ns="+e.ab),t&&(this.Ua=this.Ua+"&s="+t)}function Jc(n,e){if(n.frames.push(e),n.frames.length==n.Uc){var t=n.frames.join("");n.frames=m,t=ra(t),n.Id(t)}}function Ic(n){clearInterval(n.xb),n.xb=setInterval(function(){n.$.send("0"),Ic(n)},45e3)}function Dc(){this.set={}}function T(n,e){for(var t in n.set)D(n.set,t)&&e(t,n.set[t])}function Kc(n,e,t){this.Wb=n,this.e=Rb(n),this.ae=e,this.Y=Ac(e),this.Qa=t,this.La=o,this.Sb=function(n){e.host!==e.X&&(n.ns=e.ab);var r,t=[];for(r in n)n.hasOwnProperty(r)&&t.push(r+"="+n[r]);return(e.Pb?"https://":"http://")+e.X+"/.lp?"+t.join("&")}}function Nc(n,e,t,r){this.Sb=r,this.ka=t,this.da=new Dc,this.ea=[],this.qb=Math.floor(1e8*Math.random()),this.od=k,this.zd=n,this.Jd=e}function Pc(n,e){Qc||(Qc=require("request")),Qc(n,function(n,t,r){n&&g("Rest request for "+url+" failed."),e&&e(r)})}function Oc(n,e,t){Pc({url:e,$d:k},function(e){Rc(n,e),t()})}function Rc(a,b){eval("var document = function(pLPCommand, pRTLPCB) {"+b+"}"),document(a.zd,a.Jd)}function Sc(){var n=[];Zb(Tc,function(e,t){t&&t.isAvailable()&&n.push(t)}),this.oc=n}function Uc(n,e,t,r,a,i){this.id=n,this.e=Rb("c:"+this.id+":"),this.Jc=t,this.Eb=r,this.H=a,this.Ic=i,this.D=e,this.gc=[],this.Zc=0,this.Wc=new Sc,this.za=0,this.e("Connection created"),Vc(this)}function Vc(n){var e,t=n.Wc;0<t.oc.length?e=t.oc[0]:g(Error("No transports available")),n.M=new e("c:"+n.id+":"+n.Zc++,n.D);var r=Wc(n,n.M),a=Xc(n,n.M);n.Qb=n.M,n.Ob=n.M,n.A=m,setTimeout(function(){n.M&&n.M.open(r,a)},0)}function Xc(n,e){return function(t){e===n.M?(n.M=m,t||0!==n.za?1===n.za&&n.e("Realtime connection lost."):(n.e("Realtime connection failed."),"s-"===n.D.X.substr(0,2)&&(pb.removeItem(n.D.ab),n.D.X=n.D.host)),n.close()):e===n.A?(t=n.A,n.A=m,(n.Qb===t||n.Ob===t)&&n.close()):n.e("closing an old connection")}}function Wc(n,e){return function(t){if(2!=n.za)if(e===n.Ob){var r=Xb("t",t),t=Xb("d",t);if("c"==r){if(r=Xb("t",t),"d"in t)if(t=t.d,"h"===r){var r=t.ts,a=t.v,i=t.h;n.Qa=t.s,sb(n.D,i),0==n.za&&(n.M.start(),t=n.M,n.e("Realtime connection established."),n.M=t,n.za=1,n.Eb&&(n.Eb(r),n.Eb=m),"5"!==a&&N("Protocol version mismatch detected"),t=1<n.Wc.oc.length?n.Wc.oc[1]:m)&&(n.A=new t("c:"+n.id+":"+n.Zc++,n.D,n.Qa),n.A.open(Wc(n,n.A),Xc(n,n.A)))}else if("n"===r){for(n.e("recvd end transmission on primary"),n.Ob=n.A,t=0;t<n.gc.length;++t)n.dc(n.gc[t]);n.gc=[],Yc(n)}else"s"===r?(n.e("Connection shutdown command received. Shutting down..."),n.Ic&&(n.Ic(t),n.Ic=m),n.H=m,n.close()):"r"===r?(n.e("Reset packet received.  New host: "+t),sb(n.D,t),1===n.za?n.close():($c(n),Vc(n))):Sb("e"===r?"Server Error: "+t:"Unknown control packet command: "+r)}else"d"==r&&n.dc(t)}else e===n.A?(r=Xb("t",t),t=Xb("d",t),"c"==r?"t"in t&&(t=t.t,"a"===t?(n.A.start(),n.e("sending client ack on secondary"),n.A.send({t:"c",d:{t:"a",d:{}}}),n.e("Ending transmission on primary"),n.M.send({t:"c",d:{t:"n",d:{}}}),n.Qb=n.A,Yc(n)):"r"===t&&(n.e("Got a reset on secondary, closing it"),n.A.close(),(n.Qb===n.A||n.Ob===n.A)&&n.close())):"d"==r?n.gc.push(t):g(Error("Unknown protocol layer: "+r))):n.e("message on old connection")}}function Yc(n){n.Qb===n.A&&n.Ob===n.A&&(n.e("cleaning up and promoting a connection: "+n.A.Wb),n.M=n.A,n.A=m)}function $c(n){n.e("Shutting down all connections"),n.M&&(n.M.close(),n.M=m),n.A&&(n.A.close(),n.A=m)}function ad(){if(nc.call(this,["online"]),this.Fb=k,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var n=this;window.addEventListener("online",function(){n.Fb||n.Xc("online",k),n.Fb=k},o),window.addEventListener("offline",function(){n.Fb&&n.Xc("online",o),n.Fb=o},o)}}function bd(n,e,t,r,a,i){this.id=cd++,this.e=Rb("p:"+this.id+":"),this.Ra=k,this.ia={},this.V=[],this.Gb=0,this.Db=[],this.R=o,this.ta=1e3,this.ec=e||ca,this.cc=t||ca,this.Cb=r||ca,this.Kc=a||ca,this.Ac=i||ca,this.D=n,this.Nc=m,this.Nb={},this.Sd=0,this.yb=this.Ec=m,dd(this,0),qc.tb().bb("visible",this.Ld,this),-1===n.host.indexOf("fblocal")&&ad.tb().bb("online",this.Kd,this)}function fd(n,e,t,r,a){n.e("Listen on "+e+" for "+t);var i={p:e},r=kb(r,function(n){return Ja(n)});"{}"!==t&&(i.q=r),i.h=n.Ac(e),n.Ha("l",i,function(r){n.e("listen response",r),r=r.s,"ok"!==r&&gd(n,e,t),a&&a(r)})}function hd(n){var e=n.Ka;n.R&&e&&n.Ha("auth",{cred:e.Ad},function(t){var r=t.s,t=t.d||"error";"ok"!==r&&n.Ka===e&&delete n.Ka,n.Cb("ok"===r),e.ad?"ok"!==r&&e.Ub&&e.Ub(r,t):(e.ad=k,e.Z&&e.Z(r,t))})}function id(n,e,t,r){e=e.toString(),gd(n,e,t)&&n.R&&(n.e("Unlisten on "+e+" for "+t),e={p:e},r=kb(r,function(n){return Ja(n)}),"{}"!==t&&(e.q=r),n.Ha("u",e))}function jd(n,e,t,r){n.R?kd(n,"o",e,t,r):n.Db.push({Lc:e,action:"o",data:t,C:r})}function kd(n,e,t,r,a){t={p:t,d:r},n.e("onDisconnect "+e,t),n.Ha(e,t,function(n){a&&setTimeout(function(){a(n.s)},0)})}function ld(n,e,t,r,a,i){t={p:t,d:r},u(i)&&(t.h=i),n.V.push({action:e,ld:t,C:a}),n.Gb++,e=n.V.length-1,n.R&&md(n,e)}function md(n,e){var t=n.V[e].action,r=n.V[e].ld,a=n.V[e].C;n.V[e].Pd=n.R,n.Ha(t,r,function(r){n.e(t+" response",r),delete n.V[e],n.Gb--,0===n.Gb&&(n.V=[]),a&&a(r.s)})}function dd(n,e){z(!n.ma,"Scheduling a connect when we're already connected/ing?"),n.Xa&&clearTimeout(n.Xa),n.Xa=setTimeout(function(){if(n.Xa=m,n.Ra){n.e("Making a connection attempt"),n.Ec=(new Date).getTime(),n.yb=m;var e=w(n.dc,n),t=w(n.Eb,n),r=w(n.hd,n),a=n.id+":"+ed++;n.ma=new Uc(a,n.D,e,t,r,function(e){N(e+" ("+n.D.toString()+")"),n.Ra=o})}},e)}function gd(n,e,t){e=new K(e).toString(),t||(t="{}");var r=n.ia[e][t];return delete n.ia[e][t],r}function nd(){this.o=this.F=m}function od(n,e,t){if(e.f())n.F=t,n.o=m;else if(n.F!==m)n.F=n.F.Ba(e,t);else{n.o==m&&(n.o=new Dc);var r=F(e);n.o.contains(r)||n.o.add(r,new nd),n=n.o.get(r),e=La(e),od(n,e,t)}}function pd(n,e){if(e.f())return n.F=m,n.o=m,k;if(n.F!==m){if(n.F.O())return o;var t=n.F;return n.F=m,t.z(function(e,t){od(n,new K(e),t)}),pd(n,e)}return n.o!==m?(t=F(e),e=La(e),n.o.contains(t)&&pd(n.o.get(t),e)&&n.o.remove(t),n.o.f()?(n.o=m,k):o):k}function qd(n,e,t){n.F!==m?t(e,n.F):n.z(function(n,r){var a=new K(e.toString()+"/"+n);qd(r,a,t)})}function rd(){this.ua=P}function U(n,e){return n.ua.S(e)}function V(n,e,t){n.ua=n.ua.Ba(e,t)}function sd(){this.va=new rd,this.K=new rd,this.pa=new rd,this.Jb=new Oa}function td(n,e){for(var t=U(n.va,e),r=U(n.K,e),a=L(n.Jb,e),i=o,s=a;s!==m;){if(s.k()!==m){i=k;break}s=s.parent()}return i?o:(t=ud(t,r,a),t!==r?(V(n.K,e,t),k):o)}function ud(n,e,t){return t.f()?n:t.k()!==m?e:(n=n||P,t.z(function(r){var r=r.name(),a=n.N(r),i=e.N(r),s=L(t,r),a=ud(a,i,s);n=n.I(r,a)}),n)}function vd(n,e){jb(e,function(e){var t=e.Td,e=L(n.Jb,e.path),r=e.k();z(r!==m,"pendingPut should not be null."),r===t&&M(e,m)})}function wd(){this.Ya=[]}function xd(n,e){if(0!==e.length)for(var t=0;t<e.length;t++)n.Ya.push(e[t])}function yd(n){var e=n.Z,t=n.qd,r=n.Kb;cc(function(){e(t,r)})}function W(n,e,t,r){this.type=n,this.wa=e,this.ba=t,this.Kb=r}function zd(n){this.L=n,this.qa=[],this.wc=new wd}function Ad(n,e,t,r,a){n.qa.push({type:e,Z:t,cancel:r,U:a});var r=[],i=Bd(n.i);n.wb&&i.push(new W("value",n.i));for(var s=0;s<i.length;s++)if(i[s].type===e){var o=new J(n.L.n,n.L.path);i[s].ba&&(o=o.G(i[s].ba)),r.push({Z:a?w(t,a):t,qd:new S(i[s].wa,o),Kb:i[s].Kb})}xd(n.wc,r)}function Cd(n,e){for(var t=[],r=0;r<e.length;r++){var a=e[r],i=a.type,s=new J(n.L.n,n.L.path);for(e[r].ba&&(s=s.G(e[r].ba)),s=new S(e[r].wa,s),"value"!==a.type||s.ub()?"value"!==a.type&&(i+=" "+s.name()):i+="("+s.W()+")",Pb(n.L.n.u.id+": event:"+n.L.path+":"+n.L.Oa()+":"+i),i=0;i<n.qa.length;i++){var o=n.qa[i];e[r].type===o.type&&t.push({Z:o.U?w(o.Z,o.U):o.Z,qd:s,Kb:a.Kb})}}xd(n.wc,t)}function Bd(n){var e=[];if(!n.O()){var t=m;n.z(function(n,r){e.push(new W("child_added",r,n,t)),t=n})}return e}function Dd(n){n.wb||(n.wb=k,Cd(n,[new W("value",n.i)]))}function Ed(n,e){zd.call(this,n),this.i=e}function Gd(n,e){this.Xb=n,this.Gc=e}function Hd(n,e,t,r,a){var i=n.S(t),s=e.S(t),r=new Gd(r,a),a=Id(r,t,i,s),s=!i.f()&&!s.f()&&i.j()!==s.j();if(a||s)for(i=t,t=a;i.parent()!==m;){var l=n.S(i),a=e.S(i),u=i.parent();if(!r.Xb||L(r.Xb,u).k()){var c=e.S(u),h=[],i=i.aa<i.m.length?i.m[i.m.length-1]:m;l.f()?(l=c.ha(i,a),h.push(new W("child_added",a,i,l))):a.f()?h.push(new W("child_removed",l,i)):(l=c.ha(i,a),s&&h.push(new W("child_moved",a,i,l)),t&&h.push(new W("child_changed",a,i,l))),r.Gc(u,c,h)}s&&(s=o,t=k),i=u}}function Id(n,e,t,r){var a,i=[];return t===r?a=o:t.O()&&r.O()?a=t.k()!==r.k():t.O()?(Jd(n,e,P,r,i),a=k):r.O()?(Jd(n,e,t,P,i),a=k):a=Jd(n,e,t,r,i),a?n.Gc(e,r,i):t.j()!==r.j()&&n.Gc(e,r,m),a}function Jd(n,e,t,r,a){var p,b,v,H,i=o,s=!n.Xb||!L(n.Xb,e).f(),l=[],c=[],h=[],d=[],f={},g={};for(p=t.Za(),v=Xa(p),b=r.Za(),H=Xa(b);v!==m||H!==m;)if(t=v===m?1:H===m?-1:v.key===H.key?0:fc({name:v.key,la:v.value.j()},{name:H.key,la:H.value.j()}),0>t?(i=va(f,v.key),u(i)?(h.push({yc:v,Tc:l[i]}),l[i]=m):(g[v.key]=c.length,c.push(v)),i=k,v=Xa(p)):(t>0?(i=va(g,H.key),u(i)?(h.push({yc:c[i],Tc:H}),c[i]=m):(f[H.key]=l.length,l.push(H)),i=k):(t=e.G(H.key),(t=Id(n,t,v.value,H.value))&&(d.push(H),i=k),v.value.j()!==H.value.j()&&(h.push({yc:v,Tc:H}),i=k),v=Xa(p)),H=Xa(b)),!s&&i)return k;for(s=0;s<c.length;s++)(f=c[s])&&(t=e.G(f.key),Id(n,t,f.value,P),a.push(new W("child_removed",f.value,f.key)));for(s=0;s<l.length;s++)(f=l[s])&&(t=e.G(f.key),c=r.ha(f.key,f.value),Id(n,t,P,f.value),a.push(new W("child_added",f.value,f.key,c)));for(s=0;s<h.length;s++)f=h[s].yc,l=h[s].Tc,t=e.G(l.key),c=r.ha(l.key,l.value),a.push(new W("child_moved",l.value,l.key,c)),(t=Id(n,t,f.value,l.value))&&d.push(l);for(s=0;s<d.length;s++)n=d[s],c=r.ha(n.key,n.value),a.push(new W("child_changed",n.value,n.key,c));return i}function Kd(){this.T=this.Aa=m,this.set={}}function Ld(n){return n.contains("default")}function Md(n){return n.Aa!=m&&Ld(n)}function Nd(n,e){zd.call(this,n),this.i=P,this.jc(e,Bd(e))}function Od(n,e,t,r){if(n.O())return m;var a=m;return(r?n.xc:n.z).call(n,function(n,r){return Pd(e,n,r)&&(a=n,t--,0===t)?k:void 0}),a}function Pd(n,e,t){for(var r=0;r<n.length;r++)if(!n[r](e,t.j()))return o;return k}function Qd(n,e){this.u=n,this.g=e,this.bc=e.ua,this.oa=new Oa}function Td(n,e,t,r,a){var s,i=n.get(e);if(s=i){s=o;for(var l=i.qa.length-1;l>=0;l--){var u=i.qa[l];if(!(t&&u.type!==t||r&&u.Z!==r||a&&u.U!==a)&&(i.qa.splice(l,1),s=k,t&&r))break}s=s&&!(0<i.qa.length)}return(t=s)&&n.remove(e),t}function Ud(n,e,t,r,a,i){var s=e.path(),s=L(n.oa,s),t=t?t.Oa():m,l=[];if(t&&"default"!==t?Td(e,t,r,a,i)&&l.push(t):jb(e.keys(),function(n){Td(e,n,r,a,i)&&l.push(n)}),e.f()&&M(s,m),t=Rd(s),0<l.length&&!t){for(var u=s,c=s.parent(),t=o;!t&&c;){var h=c.k();if(h){z(!Md(h));var d=u.name(),f=o;T(h,function(n,e){f=e.Bc(d)||f}),f&&(t=k)}u=c,c=c.parent()}if(u=m,!Md(e)){c=e.Aa,e.Aa=m;var g=[],p=function(e){var t=e.k();if(t&&Ld(t))g.push(t.path()),t.Aa==m&&t.setActive(Sd(n,t));else{if(t){t.Aa!=m||t.setActive(Sd(n,t));var r={};T(t,function(n,e){e.i.z(function(n){D(r,n)||(r[n]=k,n=t.path().G(n),g.push(n))})})}e.z(p)}};p(s),u=g,c&&c()}return t?m:u}return m}function Vd(n,e,t){Qa(L(n.oa,e),function(n){(n=n.k())&&T(n,function(n,e){Dd(e)})},t,k)}function Wd(n,e,t){function r(n){do{if(s[n.toString()])return k;n=n.parent()}while(n!==m);return o}var a=n.bc,i=n.g.ua;n.bc=i;for(var s={},l=0;l<t.length;l++)s[t[l].toString()]=k;Hd(a,i,e,n.oa,function(t,a,i){if(e.contains(t)){var s=r(t);s&&Vd(n,t,o),n.ic(t,a,i),s&&Vd(n,t,k)}else n.ic(t,a,i)}),r(e)&&Vd(n,e,k),Xd(n,e)}function Xd(n,e){var t=L(n.oa,e);Qa(t,function(n){(n=n.k())&&T(n,function(n,e){e.Lb()})},k,k),Ra(t,function(n){(n=n.k())&&T(n,function(n,e){e.Lb()})},o)}function Rd(n){return Ra(n,function(n){return n.k()&&Md(n.k())})}function Sd(n,e){if(n.u){var s,t=n.u,r=e.path(),a=e.toString(),i=e.fb(),o=e.keys(),l=Ld(e),u=n.u,c=function(t){if("ok"!==t){var r="Unknown Error";"too_big"===t?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?r="Client doesn't have permission to access the desired data.":"unavailable"==t&&(r="The service is unavailable");var a=Error(t+": "+r);a.code=t.toUpperCase(),N("on() or once() for "+e.path().toString()+" failed: "+a.toString()),e&&(T(e,function(n,e){for(var t=0;t<e.qa.length;t++){var r=e.qa[t];r.cancel&&(r.U?w(r.cancel,r.U):r.cancel)(a)}}),Ud(n,e))}else s||(l?Vd(n,e.path(),k):jb(o,function(n){(n=e.get(n))&&Dd(n)}),Xd(n,e.path()))},h=e.toString(),d=e.path().toString();return u.ia[d]=u.ia[d]||{},z(!u.ia[d][h],"listen() called twice for same path/queryId."),u.ia[d][h]={fb:e.fb(),C:c},u.R&&fd(u,d,h,e.fb(),c),function(){s=k,id(t,r,a,i)}}return ca}function Yd(n,e,t,r,a){var i=e.path(),e=n.sb(i,e,r,a),s=P,o=[];return $b(e,function(e,l){var u=new K(l);3===e||1===e?s=s.I(l,r.S(u)):(2===e&&o.push({path:i.G(l),sa:P}),o=o.concat(Zd(n,r.S(u),L(t,u),a)))}),[{path:i,sa:s}].concat(o)}function $d(n,e,t,r){var a;n:{var i=L(n.oa,e);a=i.parent();for(var s=[];a!==m;){var o=a.k();if(o!==m){if(Ld(o)){a=[{path:e,sa:t}];break n}if(o=n.sb(e,o,t,r),i=va(o,i.name()),3===i||1===i){a=[{path:e,sa:t}];break n}2===i&&s.push({path:e,sa:P})}i=a,a=a.parent()}a=s}return 1!=a.length||a[0].sa.f()&&!t.f()?(s=L(n.oa,e),i=s.k(),i!==m?Ld(i)?a.push({path:e,sa:t}):a=a.concat(Yd(n,i,s,t,r)):a=a.concat(Zd(n,t,s,r)),a):a}function Zd(n,e,t,r){var a=t.k();if(a!==m)return Ld(a)?[{path:t.path(),sa:e}]:Yd(n,a,t,e,r);var i=[];return t.z(function(t){var a=e.O()?P:e.N(t.name()),t=Zd(n,a,t,r);i=i.concat(t)}),i}function ae(n,e){return n&&"object"==typeof n?(z(".sv"in n,"Unexpected leaf node or priority contents"),e[n[".sv"]]):n}function be(n,e){var r,t=ae(n.j(),e);if(n.O()){var a=ae(n.k(),e);return a!==n.k()||t!==n.j()?new dc(a,t):n}return r=n,t!==n.j()&&(r=r.Ja(t)),n.z(function(n,t){var a=be(t,e);a!==t&&(r=r.I(n,a))}),r}function ce(n){this.D=n,this.Y=Ac(n),this.u=new bd(this.D,w(this.ec,this),w(this.cc,this),w(this.Cb,this),w(this.Kc,this),w(this.Ac,this));var e=w(function(){return new xc(this.Y,this.u);
},this),n=n.toString();zc[n]||(zc[n]=e()),this.rd=zc[n],this.jb=new Oa,this.kb=new rd,this.g=new sd,this.J=new Qd(this.u,this.g.pa),this.Cc=new rd,this.Dc=new Qd(m,this.Cc),de(this,"connected",o),de(this,"authenticated",o),this.H=new nd,this.vc=0}function ee(n){return n=U(n.Cc,new K(".info/serverTimeOffset")).W()||0,(new Date).getTime()+n}function fe(n){return n=n={timestamp:ee(n)},n.timestamp=n.timestamp||(new Date).getTime(),n}function de(n,e,t){e=new K("/.info/"+e),V(n.Cc,e,R(t)),Wd(n.Dc,e,[e])}function ie(n,e,t,r){var a=R(t);jd(n.u,e.toString(),a.W(k),function(t){"ok"===t&&od(n.H,e,a),X(r,t)})}function je(n){vc(n.Y,"deprecated_on_disconnect"),n.rd.Sc.deprecated_on_disconnect=k}function X(n,e,t){n&&cc(function(){if("ok"==e)n(m,t);else{var r=(e||"error").toUpperCase(),a=r;t&&(a+=": "+t),a=Error(a),a.code=r,n(a)}})}function ke(n,e){var t=e||n.jb;if(e||le(n,t),t.k()!==m){var r=me(n,t);if(z(0<r.length),2!==r[0].status&&4!==r[0].status){for(var a=t.path(),i=0;i<r.length;i++)z(1===r[i].status,"tryToSendTransactionQueue_: items in queue should all be run."),r[i].status=2,r[i].nd++;t=U(n.g.K,a).hash(),V(n.g.K,a,U(n.g.pa,a));for(var s=U(n.kb,a).W(k),o=Ib(),l={},u=0;u<r.length;u++)r[u].sc&&(l[r[u].path.toString()]=r[u].path);var h,c=[];for(h in l)c.push(l[h]);for(i=0;i<c.length;i++)M(L(n.g.Jb,c[i]),o);n.u.put(a.toString(),s,function(e){for(n.e("transaction put response",{path:a.toString(),status:e}),i=0;i<c.length;i++){var t=L(n.g.Jb,c[i]),s=t.k();z(s!==m,"sendTransactionQueue_: pendingPut should not be null."),s===o&&(M(t,m),V(n.g.K,c[i],U(n.g.va,c[i])))}if("ok"===e){for(e=[],i=0;i<r.length;i++)r[i].status=3,r[i].C&&(t=ne(n,r[i].path),e.push(w(r[i].C,m,m,k,t))),r[i].pc();for(le(n,L(n.jb,a)),ke(n),i=0;i<e.length;i++)cc(e[i])}else{if("datastale"===e)for(i=0;i<r.length;i++)r[i].status=4===r[i].status?5:1;else for(N("transaction at "+a+" failed: "+e),i=0;i<r.length;i++)r[i].status=5,r[i].qc=e;e=ge(n,a),Wd(n.J,e,[a])}},t)}}else t.ub()&&t.z(function(e){ke(n,e)})}function ge(n,e){var t=oe(n,e),r=t.path(),a=me(n,t);if(V(n.g.pa,r,U(n.g.K,r)),V(n.kb,r,U(n.g.K,r)),0!==a.length){for(var i=t=U(n.g.pa,r),s=[],l=0;l<a.length;l++){var d,c=Ma(r,a[l].path),h=o;if(z(c!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),5===a[l].status)h=k,d=a[l].qc;else if(1===a[l].status)if(25<=a[l].nd)h=k,d="maxretry";else{var f=a[l].update(t.S(c).W());u(f)?(Aa("transaction failed: Data returned ",f),f=R(f),t=t.Ba(c,f),a[l].sc&&(i=i.Ba(c,f))):(h=k,d="nodata")}h&&(a[l].status=3,setTimeout(a[l].pc,0),a[l].C&&(h=new J(n,a[l].path),c=new S(t.S(c),h),"nodata"===d?s.push(w(a[l].C,m,m,o,c)):s.push(w(a[l].C,m,Error(d),o,c))))}for(d=U(n.g.K,r).j(),t=t.Ja(d),i=i.Ja(d),V(n.kb,r,t),V(n.g.pa,r,i),le(n,n.jb),l=0;l<s.length;l++)cc(s[l]);ke(n)}return r}function oe(n,e){for(var t,r=n.jb;(t=F(e))!==m&&r.k()===m;)r=L(r,t),e=La(e);return r}function me(n,e){var t=[];return pe(n,e,t),t.sort(function(n,e){return n.jd-e.jd}),t}function pe(n,e,t){var r=e.k();if(r!==m)for(var a=0;a<r.length;a++)t.push(r[a]);e.z(function(e){pe(n,e,t)})}function le(n,e){var t=e.k();if(t){for(var r=0,a=0;a<t.length;a++)3!==t[a].status&&(t[r]=t[a],r++);t.length=r,M(e,0<t.length?t:m)}e.z(function(e){le(n,e)})}function he(n,e){var t=oe(n,e).path(),r=L(n.jb,e);return Ra(r,function(n){qe(n)}),qe(r),Qa(r,function(n){qe(n)}),t}function qe(n){var e=n.k();if(e!==m){for(var t=[],r=-1,a=0;a<e.length;a++)4!==e[a].status&&(2===e[a].status?(z(r===a-1,"All SENT items should be at beginning of queue."),r=a,e[a].status=4,e[a].qc="set"):(z(1===e[a].status),e[a].pc(),e[a].C&&t.push(w(e[a].C,m,Error("set"),o,m))));for(-1===r?M(n,m):e.length=r+1,a=0;a<t.length;a++)cc(t[a])}}function ne(n,e){var t=new J(n,e);return new S(U(n.kb,e),t)}function Y(){this.gb={}}function $(n,e,t){this.Mb=n,this.T=e,this.Fa=t}function J(){var n,e,t;if(arguments[0]instanceof ce)t=arguments[0],n=arguments[1];else{A("new Firebase",1,2,arguments.length);var r=arguments[0];e=n="";var a=k,i="";if(v(r)){var s=r.indexOf("//");if(s>=0)var l=r.substring(0,s-1),r=r.substring(s+2);s=r.indexOf("/"),-1===s&&(s=r.length),n=r.substring(0,s);var r=r.substring(s+1),u=n.split(".");if(3==u.length){if(s=u[2].indexOf(":"),a=s>=0?"https"===l:k,"firebase"===u[1])Tb(n+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");else for(e=u[0],i="",r=("/"+r).split("/"),l=0;l<r.length;l++)if(0<r[l].length){s=r[l];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch(c){}i+="/"+s}e=e.toLowerCase()}else e=m}a||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&N("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new rb(n,a,e),e=new K(i),a=e.toString(),(r=!v(n.host))||(r=0===n.host.length)||(r=!ya(n.ab))||(r=0!==a.length)&&(a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),r=!(v(a)&&0!==a.length&&!xa.test(a))),r&&g(Error(B("new Firebase",1,o)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')),arguments[1]?arguments[1]instanceof Y?t=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):t=Y.tb(),a=n.toString(),r=va(t.gb,a),r||(r=new ce(n),t.gb[a]=r),t=r,n=e}H.call(this,t,n)}function Qb(n,e){z(!e||n===k||n===o,"Can't turn on custom loggers persistently."),n===k?("undefined"!=typeof console&&("function"==typeof console.log?Nb=w(console.log,console):"object"==typeof console.log&&(Nb=function(n){console.log(n)})),e&&pb.setItem("logging_enabled","true")):n?Nb=n:(Nb=m,pb.removeItem("logging_enabled"))}var j=void 0,k=!0,m=null,o=!1,s,ba=this;Math.floor(2147483648*Math.random()).toString(36);var pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},qa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,ta={},wa=/[\[\].#$\/]/,xa=/[\[\].#$]/;H.prototype.Mc=function(){return A("Query.ref",0,0,arguments.length),new J(this.n,this.path)},H.prototype.ref=H.prototype.Mc,H.prototype.bb=function(n,e){A("Query.on",2,4,arguments.length),Fa("Query.on",n,o),C("Query.on",2,e,o);var t=Ia("Query.on",arguments[2],arguments[3]);return this.n.Tb(this,n,e,t.cancel,t.U),e},H.prototype.on=H.prototype.bb,H.prototype.Bb=function(n,e,t){A("Query.off",0,3,arguments.length),Fa("Query.off",n,k),C("Query.off",2,e,k),ua("Query.off",3,t),this.n.lc(this,n,e,t)},H.prototype.off=H.prototype.Bb,H.prototype.Md=function(n,e){function t(s){i&&(i=o,a.Bb(n,t),e.call(r.U,s))}A("Query.once",2,4,arguments.length),Fa("Query.once",n,o),C("Query.once",2,e,o);var r=Ia("Query.once",arguments[2],arguments[3]),a=this,i=k;this.bb(n,t,function(e){a.Bb(n,t),r.cancel&&r.cancel.call(r.U,e)})},H.prototype.once=H.prototype.Md,H.prototype.Gd=function(n){return A("Query.limit",1,1,arguments.length),(!ga(n)||Math.floor(n)!==n||0>=n)&&g("Query.limit: First argument must be a positive integer."),new H(this.n,this.path,n,this.ga,this.ya,this.Ca,this.Wa)},H.prototype.limit=H.prototype.Gd,H.prototype.Wd=function(n,e){return A("Query.startAt",0,2,arguments.length),Ea("Query.startAt",1,n,k),Ga("Query.startAt",e),u(n)||(e=n=m),new H(this.n,this.path,this.Ea,n,e,this.Ca,this.Wa)},H.prototype.startAt=H.prototype.Wd,H.prototype.Bd=function(n,e){return A("Query.endAt",0,2,arguments.length),Ea("Query.endAt",1,n,k),Ga("Query.endAt",e),new H(this.n,this.path,this.Ea,this.ga,this.ya,n,e)},H.prototype.endAt=H.prototype.Bd,H.prototype.Oa=function(){var n=Ka(Ja(this));return"{}"===n?"default":n},s=K.prototype,s.toString=function(){for(var n="",e=this.aa;e<this.m.length;e++)""!==this.m[e]&&(n+="/"+this.m[e]);return n||"/"},s.parent=function(){if(this.aa>=this.m.length)return m;for(var n=[],e=this.aa;e<this.m.length-1;e++)n.push(this.m[e]);return new K(n,0)},s.G=function(n){for(var e=[],t=this.aa;t<this.m.length;t++)e.push(this.m[t]);if(n instanceof K)for(t=n.aa;t<n.m.length;t++)e.push(n.m[t]);else for(n=n.split("/"),t=0;t<n.length;t++)0<n[t].length&&e.push(n[t]);return new K(e,0)},s.f=function(){return this.aa>=this.m.length},s.contains=function(n){var e=0;if(this.m.length>n.m.length)return o;for(;e<this.m.length;){if(this.m[e]!==n.m[e])return o;++e}return k},s=Oa.prototype,s.k=function(){return this.w.value},s.clear=function(){this.w.value=m,this.w.children={},this.w.Vb=0,Pa(this)},s.ub=function(){return 0<this.w.Vb},s.f=function(){return this.k()===m&&!this.ub()},s.z=function(n){for(var e in this.w.children)n(new Oa(e,this,this.w.children[e]))},s.path=function(){return new K(this.Hb===m?this.Fa:this.Hb.path()+"/"+this.Fa)},s.name=aa("Fa"),s.parent=aa("Hb"),s=Sa.prototype,s.ra=function(n,e){return new Sa(this.Ta,this.fa.ra(n,e,this.Ta).copy(m,m,o,m,m))},s.remove=function(n){return new Sa(this.Ta,this.fa.remove(n,this.Ta).copy(m,m,o,m,m))},s.get=function(n){for(var e,t=this.fa;!t.f();){if(e=this.Ta(n,t.key),0===e)return t.value;0>e?t=t.left:e>0&&(t=t.right)}return m},s.f=function(){return this.fa.f()},s.count=function(){return this.fa.count()},s.Ab=function(){return this.fa.Ab()},s.$a=function(){return this.fa.$a()},s.Da=function(n){return this.fa.Da(n)},s.Pa=function(n){return this.fa.Pa(n)},s.Za=function(n){return new Wa(this.fa,n)},s=Ya.prototype,s.copy=function(n,e,t,r,a){return new Ya(n!=m?n:this.key,e!=m?e:this.value,t!=m?t:this.color,r!=m?r:this.left,a!=m?a:this.right)},s.count=function(){return this.left.count()+1+this.right.count()},s.f=r(o),s.Da=function(n){return this.left.Da(n)||n(this.key,this.value)||this.right.Da(n)},s.Pa=function(n){return this.right.Pa(n)||n(this.key,this.value)||this.left.Pa(n)},s.Ab=function(){return Za(this).key},s.$a=function(){return this.right.f()?this.key:this.right.$a()},s.ra=function(n,e,t){var r,a;return a=this,r=t(n,a.key),a=0>r?a.copy(m,m,m,a.left.ra(n,e,t),m):0===r?a.copy(m,e,m,m,m):a.copy(m,m,m,m,a.right.ra(n,e,t)),$a(a)},s.remove=function(n,e){var t,r;if(t=this,0>e(n,t.key))!t.left.f()&&!t.left.P()&&!t.left.left.P()&&(t=db(t)),t=t.copy(m,m,m,t.left.remove(n,e),m);else{if(t.left.P()&&(t=eb(t)),!t.right.f()&&!t.right.P()&&!t.right.left.P()&&(t=fb(t),t.left.left.P()&&(t=eb(t),t=fb(t))),0===e(n,t.key)){if(t.right.f())return Ua;r=Za(t.right),t=t.copy(r.key,r.value,m,m,cb(t.right))}t=t.copy(m,m,m,m,t.right.remove(n,e))}return $a(t)},s.P=aa("color"),s=hb.prototype,s.copy=function(){return this},s.ra=function(n,e){return new Ya(n,e,j,j,j)},s.remove=function(){return this},s.count=r(0),s.f=r(k),s.Da=r(o),s.Pa=r(o),s.Ab=r(m),s.$a=r(m),s.P=r(o);var Ua=new hb,ib=Array.prototype,jb=ib.forEach?function(n,e,t){ib.forEach.call(n,e,t)}:function(n,e,t){for(var r=n.length,a=v(n)?n.split(""):n,i=0;r>i;i++)i in a&&e.call(t,a[i],i,n)},kb=ib.map?function(n,e,t){return ib.map.call(n,e,t)}:function(n,e,t){for(var r=n.length,a=Array(r),i=v(n)?n.split(""):n,s=0;r>s;s++)s in i&&(a[s]=e.call(t,i[s],s,n));return a};ka(mb,lb),mb.prototype.reset=function(){this.B[0]=1732584193,this.B[1]=4023233417,this.B[2]=2562383102,this.B[3]=271733878,this.B[4]=3285377520,this.Vc=this.vb=0},mb.prototype.update=function(n,e){u(e)||(e=n.length);var t=this.tc,r=this.vb,a=0;if(v(n))for(;e>a;)t[r++]=n.charCodeAt(a++),64==r&&(nb(this,t),r=0);else for(;e>a;)t[r++]=n[a++],64==r&&(nb(this,t),r=0);this.vb=r,this.Vc+=e},ob.prototype.setItem=function(n,e){D(this.Sa,n)||(this.length+=1),this.Sa[n]=e},ob.prototype.getItem=function(n){return D(this.Sa,n)?this.Sa[n]:m},ob.prototype.removeItem=function(n){D(this.Sa,n)&&(this.length-=1,delete this.Sa[n])};var pb=m;try{"undefined"!=typeof sessionStorage&&(sessionStorage.setItem("firebase-sentinel","cache"),sessionStorage.removeItem("firebase-sentinel"),pb=sessionStorage)}catch(qb){}pb=pb||new ob,rb.prototype.toString=function(){return(this.Pb?"https://":"http://")+this.host};var tb,ub,vb,wb;wb=vb=ub=tb=o;var yb;if(yb=xb()){var zb=ba.navigator;tb=0==yb.indexOf("Opera"),ub=!tb&&-1!=yb.indexOf("MSIE"),vb=!tb&&-1!=yb.indexOf("WebKit"),wb=!tb&&!vb&&"Gecko"==zb.product}var Ab=ub,Bb=wb,Cb=vb,Db;if(tb&&ba.opera){var Eb=ba.opera.version;"function"==typeof Eb&&Eb()}else Bb?Db=/rv\:([^\);]+)(\)|;)/:Ab?Db=/MSIE\s+([^\);]+)(\)|;)/:Cb&&(Db=/WebKit\/(\S+)/),Db&&Db.exec(xb());var Fb=m,Gb=m,Ib,Jb=1;Ib=function(){return Jb++};var Nb=m,Ob=k,bc=/^-?\d{1,10}$/;s=dc.prototype,s.O=r(k),s.j=aa("eb"),s.Ja=function(n){return new dc(this.F,n)},s.N=function(){return P},s.S=function(n){return F(n)===m?this:P},s.ha=r(m),s.I=function(n,e){return(new Q).I(n,e).Ja(this.eb)},s.Ba=function(n,e){var t=F(n);return t===m?e:this.I(t,P.Ba(La(n),e))},s.f=r(o),s.ac=r(0),s.W=function(n){return n&&this.j()!==m?{".value":this.k(),".priority":this.j()}:this.k()},s.hash=function(){var n="";this.j()!==m&&(n+="priority:"+ec(this.j())+":");var e=typeof this.F,n=n+(e+":"),n="number"===e?n+ac(this.F):n+this.F;return Lb(n)},s.k=aa("F"),s.toString=function(){return"string"==typeof this.F?'"'+this.F+'"':this.F},s=Q.prototype,s.O=r(o),s.j=aa("eb"),s.Ja=function(n){return new Q(this.o,n)},s.I=function(n,e){var t=this.o.remove(n);return e&&e.f()&&(e=m),e!==m&&(t=t.ra(n,e)),e&&e.j()!==m?new ic(t,m,this.eb):new Q(t,this.eb)},s.Ba=function(n,e){var t=F(n);if(t===m)return e;var r=this.N(t).Ba(La(n),e);return this.I(t,r)},s.f=function(){return this.o.f()},s.ac=function(){return this.o.count()};var jc=/^\d+$/;s=Q.prototype,s.W=function(n){if(this.f())return m;var e={},t=0,r=0,a=k;if(this.z(function(i,s){e[i]=s.W(n),t++,a&&jc.test(i)?r=Math.max(r,Number(i)):a=o}),!n&&a&&2*t>r){var s,i=[];for(s in e)i[s]=e[s];return i}return n&&this.j()!==m&&(e[".priority"]=this.j()),e},s.hash=function(){var n="";return this.j()!==m&&(n+="priority:"+ec(this.j())+":"),this.z(function(e,t){var r=t.hash();""!==r&&(n+=":"+e+":"+r)}),""===n?"":Lb(n)},s.N=function(n){return n=this.o.get(n),n===m?P:n},s.S=function(n){var e=F(n);return e===m?this:this.N(e).S(La(n))},s.ha=function(n){return Va(this.o,n)},s.bd=function(){return this.o.Ab()},s.cd=function(){return this.o.$a()},s.z=function(n){return this.o.Da(n)},s.xc=function(n){return this.o.Pa(n)},s.Za=function(){return this.o.Za()},s.toString=function(){var n="{",e=k;return this.z(function(t,r){e?e=o:n+=", ",n+='"'+t+'" : '+r.toString()}),n+="}"};var P=new Q;ka(ic,Q),s=ic.prototype,s.I=function(n,e){var t=this.N(n),r=this.o,a=this.xa;return t!==m&&(r=r.remove(n),a=a.remove({name:n,la:t.j()})),e&&e.f()&&(e=m),e!==m&&(r=r.ra(n,e),a=a.ra({name:n,la:e.j()},e)),new ic(r,a,this.j())},s.ha=function(n,e){var t=Va(this.xa,{name:n,la:e.j()});return t?t.name:m},s.z=function(n){return this.xa.Da(function(e,t){return n(e.name,t)})},s.xc=function(n){return this.xa.Pa(function(e,t){return n(e.name,t)})},s.Za=function(){return this.xa.Za(function(n,e){return{key:n.name,value:e}})},s.bd=function(){return this.xa.f()?m:this.xa.Ab().name},s.cd=function(){return this.xa.f()?m:this.xa.$a().name};var lc=Math.log(2);S.prototype.W=function(){return A("Firebase.DataSnapshot.val",0,0,arguments.length),this.w.W()},S.prototype.val=S.prototype.W,S.prototype.Cd=function(){return A("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.w.W(k)},S.prototype.exportVal=S.prototype.Cd,S.prototype.G=function(n){A("Firebase.DataSnapshot.child",0,1,arguments.length),ga(n)&&(n=String(n)),Ha("Firebase.DataSnapshot.child",n);var e=new K(n),t=this.kc.G(e);return new S(this.w.S(e),t)},S.prototype.child=S.prototype.G,S.prototype.Bc=function(n){A("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Ha("Firebase.DataSnapshot.hasChild",n);var e=new K(n);return!this.w.S(e).f()},S.prototype.hasChild=S.prototype.Bc,S.prototype.j=function(){return A("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.w.j()},S.prototype.getPriority=S.prototype.j,S.prototype.forEach=function(n){if(A("Firebase.DataSnapshot.forEach",1,1,arguments.length),C("Firebase.DataSnapshot.forEach",1,n,o),this.w.O())return o;var e=this;return this.w.z(function(t,r){return n(new S(r,e.kc.G(t)))})},S.prototype.forEach=S.prototype.forEach,S.prototype.ub=function(){return A("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.w.O()?o:!this.w.f()},S.prototype.hasChildren=S.prototype.ub,S.prototype.name=function(){return A("Firebase.DataSnapshot.name",0,0,arguments.length),this.kc.name()},S.prototype.name=S.prototype.name,S.prototype.ac=function(){return A("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.w.ac()},S.prototype.numChildren=S.prototype.ac,S.prototype.Mc=function(){return A("Firebase.DataSnapshot.ref",0,0,arguments.length),this.kc},S.prototype.ref=S.prototype.Mc,nc.prototype.zc=function(){},nc.prototype.Xc=function(n){for(var e=this.zb[n]||[],t=0;t<e.length;t++)e[t].Z.apply(e[t].U,Array.prototype.slice.call(arguments,1))},nc.prototype.bb=function(n,e,t){oc(this,n),this.zb[n]=this.zb[n]||[],this.zb[n].push({Z:e,U:t}),(n=this.zc(n))&&e.apply(t,n)},nc.prototype.Bb=function(n,e,t){oc(this,n);for(var n=this.zb[n]||[],r=0;r<n.length;r++)if(n[r].Z===e&&(!t||t===n[r].U)){n.splice(r,1);break}},ka(qc,nc),da(qc),qc.prototype.zc=function(n){return z("visible"===n),[this.lb]},uc.prototype.get=function(){return tc(this.ob)},wc.prototype.get=function(){var n=this.yd.get(),e=tc(n);if(this.Yb)for(var t in this.Yb)e[t]-=this.Yb[t];return this.Yb=n,e},xc.prototype.kd=function(){var r,n=this.nc.get(),e={},t=o;for(r in n)0<n[r]&&D(this.Sc,r)&&(e[r]=n[r],t=k);t&&(n=this.u,n.R&&(e={c:e},n.e("reportStats",e),n.Ha("s",e))),setTimeout(w(this.kd,this),6e5*Math.random())};var yc={},zc={},Bc=require("http");Cc.isAvailable=r(o),s=Cc.prototype,s.open=function(n,e){this.pb=0,this.H=e,this.Nd=new rc(n);var t=this;this.Q=setTimeout(function(){t.e("Timed out trying to connect."),t.close(),t.Q=m},3e4);var r=Math.floor(1e8*Math.random()),a={start:"t"};a.ser=r,a.v="5",this.Qa&&(a.s=this.Qa),this.e("Connecting via httppoll to "+this.D.X),Ec(this,r,a)},s.start=function(){for(this.mb=k,this.qb=Math.floor(1e8*Math.random());this.Ga(););},s.send=function(n){for(var n=y(n),n=Kb(n),n=Yb(n,1048576),e=0;e<n.length;++e)this.ea.push({Oc:this.pb,Yc:n.length,rb:n[e]}),this.mb&&this.Ga(),this.pb++},s.close=function(){if(!this.ca){if(this.e("Httppoll is being closed"),this.mb&&this.id&&this.Ib){this.e("doing a disconnect");var n={};n.id=this.id,n.pw=this.Ib,n.disconn="t",Ec(this,0,n)}this.Ia()}},s.Ga=function(){if(this.mb&&this.da.count()<(0<this.ea.length?2:1)){var n=this.qb++,e={};e.id=this.id,e.pw=this.Ib,e.ser=n;for(var t=[];0<this.ea.length&&1048608>=this.ea[0].rb.length;){var r=this.ea.shift();t.push(r.Oc+":"+r.Yc+":"+r.rb)}var a=this,r=setTimeout(function(){a.da.remove(n),a.Ga()},25e3);return this.da.add(n,r),Ec(this,n,e,t.join("\n")),k}return o},s.ja=function(){this.ca||(this.e("Httppoll is closing itself"),this.Ia(),this.H&&(this.H(this.La),this.H=m))},s.Ia=function(){this.ca=k,this.mb=o,this.Q&&(clearTimeout(this.Q),this.Q=m),T(this.da,function(n){clearTimeout(n)}),this.da.clear()};var Fc=m,Fc=require("faye-websocket").Client,Hc;Gc.prototype.open=function(n,e){this.ka=e,this.Id=n,this.e("websocket connecting to "+this.Ua),this.$=new Fc(this.Ua),this.La=o;var t=this;this.$.onopen=function(){t.e("Websocket connected."),t.La=k},this.$.onclose=function(){t.e("Websocket connection was disconnected."),t.$=m,t.ja()},this.$.onmessage=function(n){if(t.$!==m)if(n=n.data,vc(t.Y,"bytes_received",n.length),Ic(t),t.frames!==m)Jc(t,n);else{n:{if(z(t.frames===m,"We already have a frame buffer"),6>=n.length){var e=Number(n);if(!isNaN(e)){t.Uc=e,t.frames=[],n=m;break n}}t.Uc=1,t.frames=[]}n!==m&&Jc(t,n)}},this.$.onerror=function(n){t.e("WebSocket error.  Closing connection."),n.data&&t.e(n.data),t.ja()}},Gc.prototype.start=function(){},Gc.isAvailable=function(){var n=o;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(n=k)}return!n&&Fc!==m&&!Hc},Gc.prototype.send=function(n){Ic(this),n=y(n),vc(this.Y,"bytes_sent",n.length),n=Yb(n,16384),1<n.length&&this.$.send(String(n.length));for(var e=0;e<n.length;e++)this.$.send(n[e])},Gc.prototype.Ia=function(){this.ca=k,this.xb&&(clearInterval(this.xb),this.xb=m),this.$&&(this.$.close(),this.$=m)},Gc.prototype.ja=function(){this.ca||(this.e("WebSocket is closing itself"),this.Ia(),this.ka&&(this.ka(this.La),this.ka=m))},Gc.prototype.close=function(){this.ca||(this.e("WebSocket is being closed"),this.Ia())},s=Dc.prototype,s.add=function(n,e){this.set[n]=e!==m?e:k},s.contains=function(n){return D(this.set,n)},s.get=function(n){return this.contains(n)?this.set[n]:j},s.remove=function(n){delete this.set[n]},s.clear=function(){this.set={}},s.f=function(){var n;n:{for(n in this.set){n=o;break n}n=k}return n},s.count=function(){var e,n=0;for(e in this.set)n++;return n},s.keys=function(){var e,n=[];for(e in this.set)D(this.set,e)&&n.push(e);return n};var Lc,Mc;Kc.prototype.open=function(n,e){this.pb=0,this.H=e,this.gd=new rc(n),this.ca=o;var t=this;if(this.Q=setTimeout(function(){t.e("Timed out trying to connect."),t.ja(),t.Q=m},3e4),!t.ca){t.na=new Nc(function(n,e,r,a,i){if(vc(t.Y,"bytes_received",y(arguments).length),t.na)if(t.Q&&(clearTimeout(t.Q),t.Q=m),t.La=k,"start"==n)t.id=e,t.Ib=r;else if("close"===n)if(e){t.na.od=o;var s=t.gd;s.uc=e,s.Na=function(){t.ja()},s.uc<s.Va&&(s.Na(),s.Na=m)}else t.ja();else g(Error("Unrecognized command received: "+n))},function(n,e){vc(t.Y,"bytes_received",y(arguments).length),sc(t.gd,n,e)},function(){t.ja()},t.Sb);var r={start:"t"};r.ser=Math.floor(1e8*Math.random()),t.na.Xd&&(r.cb=t.na.Xd),r.v="5",t.Qa&&(r.s=t.Qa),r=t.Sb(r),t.e("Connecting via long-poll to "+r),Oc(t.na,r,function(){})}},Kc.prototype.start=function(){var n=this.na,e=this.Ib;for(n.Fc=this.id,n.fd=e,n.rc=k;n.Ga(););},Kc.isAvailable=function(){return!Mc&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.Yd)&&(Lc||o)},Kc.prototype.Ia=function(){this.ca=k,this.na&&(this.na.close(),this.na=m),this.ed&&(document.body.removeChild(this.ed),this.ed=m),this.Q&&(clearTimeout(this.Q),this.Q=m)},Kc.prototype.ja=function(){this.ca||(this.e("Longpoll is closing itself"),this.Ia(),this.H&&(this.H(this.La),this.H=m))},Kc.prototype.close=function(){this.ca||(this.e("Longpoll is being closed."),this.Ia())},Kc.prototype.send=function(n){n=y(n),vc(this.Y,"bytes_sent",n.length);for(var n=Kb(n),n=Yb(n,1840),e=0;e<n.length;e++){var t=this.na;t.ea.push({Oc:this.pb,Yc:n.length,rb:n[e]}),t.rc&&t.Ga(),this.pb++}},Nc.prototype.close=function(){if(this.rc=o,this.Zb){this.Zb.Zd.body.innerHTML="";var n=this;setTimeout(function(){n.Zb!==m&&(document.body.removeChild(n.Zb),n.Zb=m)},0)}if(this.Fc){var e={disconn:"t"};e.id=this.Fc,e.pw=this.fd,e=this.Sb(e),Pc(e)}(e=this.ka)&&(this.ka=m,e())},Nc.prototype.Ga=function(){if(this.rc&&this.od&&this.da.count()<(0<this.ea.length?2:1)){this.qb++;var n={};n.id=this.Fc,n.pw=this.fd,n.ser=this.qb;for(var n=this.Sb(n),e="",t=0;0<this.ea.length&&1870>=this.ea[0].rb.length+30+e.length;){var r=this.ea.shift(),e=e+"&seg"+t+"="+r.Oc+"&ts"+t+"="+r.Yc+"&d"+t+"="+r.rb;t++}var n=n+e,a=this.qb,i=this;i.da.add(a);var s=function(){i.da.remove(a),i.Ga()},l=setTimeout(s,25e3);return Oc(this,n,function(){clearTimeout(l),s()}),k}return o};var Qc,Tc=[Kc,Cc,Gc];Uc.prototype.pd=function(n){n={t:"d",d:n},1!==this.za&&g("Connection is not connected"),this.Qb.send(n)},Uc.prototype.dc=function(n){this.Jc(n)},Uc.prototype.close=function(){2!==this.za&&(this.e("Closing realtime connection."),this.za=2,$c(this),this.H&&(this.H(),this.H=m))},ka(ad,nc),da(ad),ad.prototype.zc=function(n){return z("online"===n),[this.Fb]};var cd=0,ed=0;s=bd.prototype,s.Ha=function(n,e,t){var r=++this.Sd,n={r:r,a:n,b:e};this.e(y(n)),z(this.R,"sendRequest_ call when we're not connected not allowed."),this.ma.pd(n),t&&(this.Nb[r]=t)},s.nb=function(n,e,t){this.Ka={Ad:n,ad:o,Z:e,Ub:t},this.e("Authenticating using credential: "+this.Ka),hd(this)},s.Rb=function(n){delete this.Ka,this.Cb(o),this.R&&this.Ha("unauth",{},function(e){n(e.s)})},s.Hc=function(n,e){this.R?kd(this,"oc",n,m,e):this.Db.push({Lc:n,action:"oc",data:m,C:e})},s.put=function(n,e,t,r){ld(this,"p",n,e,t,r)},s.dc=function(n){if("r"in n){this.e("from server: "+y(n));var e=n.r,t=this.Nb[e];t&&(delete this.Nb[e],t(n.b))}else"error"in n&&g("A server-side error has occurred: "+n.error),"a"in n&&(e=n.a,n=n.b,this.e("handleServerMessage",e,n),"d"===e?this.ec(n.p,n.d):"m"===e?this.ec(n.p,n.d,k):"c"===e?(e=n.p,n=(n=n.q)?kb(n,function(n){return Ka(n)}).join("$"):"{}",(n=gd(this,e,n))&&n.C&&n.C("permission_denied")):"ac"===e?(e=n.s,n=n.d,t=this.Ka,delete this.Ka,t&&t.Ub&&t.Ub(e,n),this.Cb(o)):"sd"===e?this.Nc?this.Nc(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):Sb("Unrecognized action received from server: "+y(e)+"\nAre you using the latest client?"))},s.Eb=function(n){this.e("connection ready"),this.R=k,this.yb=(new Date).getTime(),this.Kc({serverTimeOffset:n-(new Date).getTime()}),hd(this);for(var e in this.ia)for(var t in this.ia[e])n=this.ia[e][t],fd(this,e,t,n.fb,n.C);for(e=0;e<this.V.length;e++)this.V[e]&&md(this,e);for(;this.Db.length;)e=this.Db.shift(),kd(this,e.action,e.Lc,e.data,e.C);this.cc(k)},s.Ld=function(n){n&&!this.lb&&3e5===this.ta&&(this.e("Window became visible.  Reducing delay."),this.ta=1e3,this.ma||dd(this,0)),this.lb=n},s.Kd=function(n){n?(this.e("Browser went online.  Reconnecting."),this.ta=1e3,this.Ra=k,this.ma||dd(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Ra=o,this.ma&&this.ma.close())},s.hd=function(){this.e("data client disconnected"),this.R=o,this.ma=m;for(var n=0;n<this.V.length;n++){var e=this.V[n];e&&"h"in e.ld&&e.Pd&&(e.C&&e.C("disconnect"),delete this.V[n],this.Gb--)}if(0===this.Gb&&(this.V=[]),this.Ra)this.lb?this.yb&&(3e4<(new Date).getTime()-this.yb&&(this.ta=1e3),this.yb=m):(this.e("Window isn't visible.  Delaying reconnect."),this.ta=3e5,this.Ec=(new Date).getTime()),n=Math.max(0,this.ta-((new Date).getTime()-this.Ec)),n*=Math.random(),this.e("Trying to reconnect in "+n+"ms"),dd(this,n),this.ta=Math.min(3e5,1.3*this.ta);else for(var t in this.Nb)delete this.Nb[t];this.cc(o)},s.Ma=function(){this.Ra=o,this.ma?this.ma.close():(this.Xa&&(clearTimeout(this.Xa),this.Xa=m),this.R&&this.hd())},s.hb=function(){this.Ra=k,this.ta=1e3,this.R||dd(this,0)},nd.prototype.z=function(n){this.o!==m&&T(this.o,function(e,t){n(e,t)})},rd.prototype.toString=function(){return this.ua.toString()},sd.prototype.set=function(n,e){var t=this,r=[];return jb(e,function(n){var e=n.path,n=n.sa,a=Ib();M(L(t.Jb,e),a),V(t.K,e,n),r.push({path:e,Td:a})}),r},wd.prototype.Lb=function(){for(var n=0;n<this.Ya.length;n++)if(this.Ya[n]){var e=this.Ya[n];this.Ya[n]=m,yd(e)}this.Ya=[]},zd.prototype.ic=function(n,e){e=this.jc(n,e),e!=m&&Cd(this,e)},zd.prototype.Lb=function(){this.wc.Lb()},ka(Ed,zd),Ed.prototype.jc=function(n,e){return this.i=n,this.wb&&e!=m&&e.push(new W("value",this.i)),e},Ed.prototype.sb=function(){return{}},ka(Kd,Dc),s=Kd.prototype,s.setActive=function(n){this.Aa=n},s.defaultView=function(){return Ld(this)?this.get("default"):m},s.path=aa("T"),s.toString=function(){return kb(this.keys(),function(n){return"default"===n?"{}":n}).join("$")},s.fb=function(){var n=[];return T(this,function(e,t){n.push(t.L)}),n},ka(Nd,zd),Nd.prototype.jc=function(n,e){if(e===m)return e;var t=[],r=this.L;u(r.ga)&&(u(r.ya)&&r.ya!=m?t.push(function(n,e){var t=Ub(e,r.ga);return t>0||0===t&&0<=Vb(n,r.ya)}):t.push(function(n,e){return 0<=Ub(e,r.ga)})),u(r.Ca)&&(u(r.Wa)?t.push(function(n,e){var t=Ub(e,r.Ca);return 0>t||0===t&&0>=Vb(n,r.Wa)}):t.push(function(n,e){return 0>=Ub(e,r.Ca)}));var a=m,i=m;if(u(this.L.Ea))if(u(this.L.ga)){if(a=Od(n,t,this.L.Ea,o)){var s=n.N(a).j();t.push(function(n,e){var t=Ub(e,s);return 0>t||0===t&&0>=Vb(n,a)})}}else if(i=Od(n,t,this.L.Ea,k)){var l=n.N(i).j();t.push(function(n,e){var t=Ub(e,l);return t>0||0===t&&0<=Vb(n,i)})}for(var c=[],h=[],d=[],f=[],g=0;g<e.length;g++){var p=e[g].ba,b=e[g].wa;switch(e[g].type){case"child_added":Pd(t,p,b)&&(this.i=this.i.I(p,b),h.push(e[g]));break;case"child_removed":this.i.N(p).f()||(this.i=this.i.I(p,m),c.push(e[g]));break;case"child_changed":!this.i.N(p).f()&&Pd(t,p,b)&&(this.i=this.i.I(p,b),f.push(e[g]));break;case"child_moved":var v=!this.i.N(p).f(),H=Pd(t,p,b);v?H?(this.i=this.i.I(p,b),d.push(e[g])):(c.push(new W("child_removed",this.i.N(p),p)),this.i=this.i.I(p,m)):H&&(this.i=this.i.I(p,b),h.push(e[g]))}}var S=a||i;if(S){var w=(g=i!==m)?this.i.bd():this.i.cd(),y=o,z=o,x=this;(g?n.xc:n.z).call(n,function(n,e){return!z&&w===m&&(z=k),z&&y?k:(y?(c.push(new W("child_removed",x.i.N(n),n)),x.i=x.i.I(n,m)):z&&(h.push(new W("child_added",e,n)),x.i=x.i.I(n,e)),w===n&&(z=k),void(n===S&&(y=k)))})}for(g=0;g<h.length;g++)t=h[g],p=this.i.ha(t.ba,t.wa),c.push(new W("child_added",t.wa,t.ba,p));for(g=0;g<d.length;g++)t=d[g],p=this.i.ha(t.ba,t.wa),c.push(new W("child_moved",t.wa,t.ba,p));for(g=0;g<f.length;g++)t=f[g],p=this.i.ha(t.ba,t.wa),c.push(new W("child_changed",t.wa,t.ba,p));return this.wb&&0<c.length&&c.push(new W("value",this.i)),c},Nd.prototype.Bc=function(n){return this.i.N(n)!==P},Nd.prototype.sb=function(n,e,t){var r={};this.i.O()||this.i.z(function(n){r[n]=3});var a=this.i,t=U(t,new K("")),i=new Oa;M(L(i,this.L.path),k);var e=P.Ba(n,e),s=this;return Hd(t,e,n,i,function(n,e,t){t!==m&&n.toString()===s.L.path.toString()&&s.jc(e,t)}),this.i.O()?$b(r,function(n,e){r[e]=2}):(this.i.z(function(n){D(r,n)||(r[n]=1)}),$b(r,function(n,e){s.i.N(e).f()&&(r[e]=2)})),this.i=a,r},Qd.prototype.Tb=function(n,e,t,r,a){var i=n.path,s=L(this.oa,i),o=s.k();o===m?(o=new Kd,M(s,o)):z(!o.f(),"We shouldn't be storing empty QueryMaps");var l=n.Oa();if(o.contains(l))n=o.get(l),Ad(n,e,t,r,a);else{var u=this.g.ua.S(i),u=n="default"===n.Oa()?new Ed(n,u):new Nd(n,u);if(Md(o)||Rd(s))o.add(l,u),o.T||(o.T=u.L.path);else{var c,h;o.f()||(c=o.toString(),h=o.fb()),o.add(l,u),o.T||(o.T=u.L.path),o.setActive(Sd(this,o)),c&&h&&id(this.u,o.path(),c,h)}Md(o)&&Qa(s,function(n){(n=n.k())&&(n.Aa&&n.Aa(),n.Aa=m)}),Ad(n,e,t,r,a),(e=(e=Ra(L(this.oa,i),function(n){var e;return(e=n.k())&&(e=n.k().defaultView())&&(e=n.k().defaultView().wb),e?k:void 0},k))||this.u===m&&!U(this.g,i).f())&&Dd(n)}n.Lb()},Qd.prototype.lc=function(n,e,t,r){var a=L(this.oa,n.path).k();return a===m?m:Ud(this,a,n,e,t,r)},Qd.prototype.ic=function(n,e,t){n=L(this.oa,n).k(),n!==m&&T(n,function(n,r){r.ic(e,t)})},Qd.prototype.sb=function(n,e,t,r){var a={};return T(e,function(e,i){var s=i.sb(n,t,r);$b(s,function(n,e){a[e]=3===n?3:(va(a,e)||n)===n?n:3})}),t.O()||t.z(function(n){D(a,n)||(a[n]=4)}),a},s=ce.prototype,s.toString=function(){return(this.D.Pb?"https://":"http://")+this.D.host},s.name=function(){return this.D.ab},s.ec=function(n,e,t){this.vc++;var r,a,i=[];for(9<=n.length&&n.lastIndexOf(".priority")===n.length-9?(r=new K(n.substring(0,n.length-9)),a=U(this.g.va,r).Ja(e),i.push(r)):t?(r=new K(n),a=U(this.g.va,r),$b(e,function(n,e){var t=new K(e);a=a.Ba(t,R(n)),i.push(r.G(e))})):(r=new K(n),a=R(e),i.push(r)),n=$d(this.J,r,a,this.g.K),e=o,t=0;t<n.length;++t){var s=n[t],l=this.g,u=s.path;V(l.va,u,s.sa),e=td(l,u)||e}e&&(r=ge(this,r)),Wd(this.J,r,i)},s.cc=function(n){if(de(this,"connected",n),n===o){this.e("onDisconnectEvents");var e=this,t=[],r=fe(this),n=qd,a=new nd;qd(this.H,new K(""),function(n,e){od(a,n,be(e,r))}),n(a,new K(""),function(n,r){var a=$d(e.J,n,r,e.g.K);t.push.apply(t,e.g.set(n,a)),a=he(e,n),ge(e,a),Wd(e.J,a,[n])}),vd(this.g,t),this.H=new nd}},s.Kc=function(n){var e=this;Zb(n,function(n,t){de(e,t,n)})},s.Ac=function(n){return n=new K(n),U(this.g.va,n).hash()},s.Cb=function(n){de(this,"authenticated",n)},s.nb=function(n,e,t){"firebaseio-demo.com"===this.D.domain&&N("FirebaseRef.auth() not supported on demo (*.firebaseio-demo.com) Firebases. Please use on production (*.firebaseio.com) Firebases only."),this.u.nb(n,function(n,t){X(e,n,t)},function(n,e){if(N("auth() was canceled: "+e),t){var r=Error(e);r.code=n.toUpperCase(),t(r)}})},s.Rb=function(n){this.u.Rb(function(e){X(n,e)})},s.ib=function(n,e,t,r){this.e("set",{path:n.toString(),value:e,la:t});var a=fe(this),e=R(e,t),a=be(e,a),a=$d(this.J,n,a,this.g.K),i=this.g.set(n,a),s=this;
this.u.put(n.toString(),e.W(k),function(e){"ok"!==e&&N("set at "+n+" failed: "+e),vd(s.g,i),td(s.g,n);var t=ge(s,n);Wd(s.J,t,[]),X(r,e)}),a=he(this,n),ge(this,a),Wd(this.J,a,[n])},s.update=function(n,e,t){this.e("update",{path:n.toString(),value:e});var u,r=U(this.g.pa,n),a=k,i=[],s=fe(this),l=[];for(u in e){var a=o,c=R(e[u]),c=be(c,s),r=r.I(u,c),h=n.G(u);i.push(h),c=$d(this.J,h,c,this.g.K),l=l.concat(this.g.set(n,c))}if(a)Pb("update() called with empty data.  Don't do anything."),X(t,"ok");else{var d=this;ld(this.u,"m",n.toString(),e,function(e){z("ok"===e||"permission_denied"===e,"merge at "+n+" failed."),"ok"!==e&&N("update at "+n+" failed: "+e),vd(d.g,l),td(d.g,n);var r=ge(d,n);Wd(d.J,r,[]),X(t,e)},j),e=he(this,n),ge(this,e),Wd(d.J,e,i)}},s.Pc=function(n,e,t){this.e("setPriority",{path:n.toString(),la:e});var r=fe(this),r=ae(e,r),r=U(this.g.K,n).Ja(r),r=$d(this.J,n,r,this.g.K),a=this.g.set(n,r),i=this;this.u.put(n.toString()+"/.priority",e,function(n){vd(i.g,a),X(t,n)}),n=ge(this,n),Wd(i.J,n,[])},s.Hc=function(n,e){var t=this;this.u.Hc(n.toString(),function(r){"ok"===r&&pd(t.H,n),X(e,r)})},s.Tb=function(n,e,t,r,a){".info"===F(n.path)?this.Dc.Tb(n,e,t,r,a):this.J.Tb(n,e,t,r,a)},s.lc=function(n,e,t,r){if(".info"===F(n.path))this.Dc.lc(n,e,t,r);else{if(e=this.J.lc(n,e,t,r),t=e!==m){for(var t=this.g,r=n.path,a=[],i=0;i<e.length;++i)a[i]=U(t.va,e[i]);for(V(t.va,r,P),i=0;i<e.length;++i)V(t.va,e[i],a[i]);t=td(t,r)}t&&(z(this.g.pa.ua===this.J.bc,"We should have raised any outstanding events by now.  Else, we'll blow them away."),V(this.g.pa,n.path,U(this.g.K,n.path)),this.J.bc=this.g.pa.ua)}},s.Ma=function(){this.u.Ma()},s.hb=function(){this.u.hb()},s.Qc=function(n){if("undefined"!=typeof console){n?(this.nc||(this.nc=new wc(this.Y)),n=this.nc.get()):n=this.Y.get();var a,e=n,t=[],r=0;for(a in e)t[r++]=a;var i=function(n,e){return Math.max(e.length,n)};if(t.reduce)a=t.reduce(i,0);else{var s=0;jb(t,function(n){s=i.call(j,s,n)}),a=s}for(var o in n){for(e=n[o],t=o.length;a+2>t;t++)o+=" ";console.log(o+e)}}},s.Rc=function(n){vc(this.Y,n),this.rd.Sc[n]=k},s.e=function(){Pb("r:"+this.u.id+":",arguments)},da(Y),Y.prototype.Ma=function(){for(var n in this.gb)this.gb[n].Ma()},Y.prototype.interrupt=Y.prototype.Ma,Y.prototype.hb=function(){for(var n in this.gb)this.gb[n].hb()},Y.prototype.resume=Y.prototype.hb;var Z={Fd:function(n){var e=Q.prototype.hash;Q.prototype.hash=n;var t=dc.prototype.hash;return dc.prototype.hash=n,function(){Q.prototype.hash=e,dc.prototype.hash=t}}};Z.hijackHash=Z.Fd,Z.Oa=function(n){return n.Oa()},Z.queryIdentifier=Z.Oa,Z.Hd=function(n){return n.n.u.ia},Z.listens=Z.Hd,Z.Qd=function(n){return n.n.u.ma},Z.refConnection=Z.Qd,Z.td=bd,Z.DataConnection=Z.td,bd.prototype.sendRequest=bd.prototype.Ha,bd.prototype.interrupt=bd.prototype.Ma,Z.ud=Uc,Z.RealTimeConnection=Z.ud,Uc.prototype.sendRequest=Uc.prototype.pd,Uc.prototype.close=Uc.prototype.close,Z.sd=rb,Z.ConnectionTarget=Z.sd,Z.Dd=function(){Lc=Hc=k},Z.forceLongPolling=Z.Dd,Z.Ed=function(){Mc=k},Z.forceWebSockets=Z.Ed,Z.Vd=function(n,e){n.n.u.Nc=e},Z.setSecurityDebugCallback=Z.Vd,Z.Qc=function(n,e){n.n.Qc(e)},Z.stats=Z.Qc,Z.Rc=function(n,e){n.n.Rc(e)},Z.statsIncrementCounter=Z.Rc,Z.vc=function(n){return n.n.vc},$.prototype.cancel=function(n){A("Firebase.onDisconnect().cancel",0,1,arguments.length),C("Firebase.onDisconnect().cancel",1,n,k),this.Mb.Hc(this.T,n)},$.prototype.cancel=$.prototype.cancel,$.prototype.remove=function(n){A("Firebase.onDisconnect().remove",0,1,arguments.length),E("Firebase.onDisconnect().remove",this.T),C("Firebase.onDisconnect().remove",1,n,k),ie(this.Mb,this.T,m,n)},$.prototype.remove=$.prototype.remove,$.prototype.set=function(n,e){A("Firebase.onDisconnect().set",1,2,arguments.length),E("Firebase.onDisconnect().set",this.T),za("Firebase.onDisconnect().set",n,o),C("Firebase.onDisconnect().set",2,e,k),ie(this.Mb,this.T,n,e)},$.prototype.set=$.prototype.set,$.prototype.ib=function(n,e,t){A("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),E("Firebase.onDisconnect().setWithPriority",this.T),za("Firebase.onDisconnect().setWithPriority",n,o),Ea("Firebase.onDisconnect().setWithPriority",2,e,o),C("Firebase.onDisconnect().setWithPriority",3,t,k),(".length"===this.Fa||".keys"===this.Fa)&&g("Firebase.onDisconnect().setWithPriority failed: "+this.Fa+" is a read-only object.");var r=this.Mb,a=this.T,i=R(n,e);jd(r.u,a.toString(),i.W(k),function(n){"ok"===n&&od(r.H,a,i),X(t,n)})},$.prototype.setWithPriority=$.prototype.ib,$.prototype.update=function(n,e){A("Firebase.onDisconnect().update",1,2,arguments.length),E("Firebase.onDisconnect().update",this.T),Da("Firebase.onDisconnect().update",n),C("Firebase.onDisconnect().update",2,e,k);var i,t=this.Mb,r=this.T,a=k;for(i in n)a=o;if(a)Pb("onDisconnect().update() called with empty data.  Don't do anything."),X(e,k);else{a=t.u,i=r.toString();var s=function(a){if("ok"===a)for(var i in n){var s=R(n[i]);od(t.H,r.G(i),s)}X(e,a)};a.R?kd(a,"om",i,n,s):a.Db.push({Lc:i,action:"om",data:n,C:s})}},$.prototype.update=$.prototype.update;var re,se=0,te=[];re=function(n){var e=n===se;se=n;for(var t=Array(8),r=7;r>=0;r--)t[r]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(z(0===n),n=t.join(""),e){for(r=11;r>=0&&63===te[r];r--)te[r]=0;te[r]++}else for(r=0;12>r;r++)te[r]=Math.floor(64*Math.random());for(r=0;12>r;r++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(te[r]);return z(20===n.length,"NextPushId: Length should be 20."),n},ka(J,H);var ue=J,ve=["Firebase"],we=ba;!(ve[0]in we)&&we.execScript&&we.execScript("var "+ve[0]);for(var xe;ve.length&&(xe=ve.shift());)!ve.length&&u(ue)?we[xe]=ue:we=we[xe]?we[xe]:we[xe]={};module.exports=J,J.prototype.name=function(){return A("Firebase.name",0,0,arguments.length),this.path.f()?m:this.path.aa<this.path.m.length?this.path.m[this.path.m.length-1]:m},J.prototype.name=J.prototype.name,J.prototype.G=function(n){if(A("Firebase.child",1,1,arguments.length),ga(n))n=String(n);else if(!(n instanceof K))if(F(this.path)===m){var e=n;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ha("Firebase.child",e)}else Ha("Firebase.child",n);return new J(this.n,this.path.G(n))},J.prototype.child=J.prototype.G,J.prototype.parent=function(){A("Firebase.parent",0,0,arguments.length);var n=this.path.parent();return n===m?m:new J(this.n,n)},J.prototype.parent=J.prototype.parent,J.prototype.root=function(){A("Firebase.ref",0,0,arguments.length);for(var n=this;n.parent()!==m;)n=n.parent();return n},J.prototype.root=J.prototype.root,J.prototype.toString=function(){A("Firebase.toString",0,0,arguments.length);var n;if(this.parent()===m)n=this.n.toString();else{n=this.parent().toString()+"/";var e=this.name();n+=encodeURIComponent(String(e))}return n},J.prototype.toString=J.prototype.toString,J.prototype.set=function(n,e){return A("Firebase.set",1,2,arguments.length),E("Firebase.set",this.path),za("Firebase.set",n,o),C("Firebase.set",2,e,k),this.n.ib(this.path,n,m,e)},J.prototype.set=J.prototype.set,J.prototype.update=function(n,e){return A("Firebase.update",1,2,arguments.length),E("Firebase.update",this.path),Da("Firebase.update",n),C("Firebase.update",2,e,k),this.n.update(this.path,n,e)},J.prototype.update=J.prototype.update,J.prototype.ib=function(n,e,t){return A("Firebase.setWithPriority",2,3,arguments.length),E("Firebase.setWithPriority",this.path),za("Firebase.setWithPriority",n,o),Ea("Firebase.setWithPriority",2,e,o),C("Firebase.setWithPriority",3,t,k),(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object."),this.n.ib(this.path,n,e,t)},J.prototype.setWithPriority=J.prototype.ib,J.prototype.remove=function(n){A("Firebase.remove",0,1,arguments.length),E("Firebase.remove",this.path),C("Firebase.remove",1,n,k),this.set(m,n)},J.prototype.remove=J.prototype.remove,J.prototype.transaction=function(n,e,t){function r(){}A("Firebase.transaction",1,3,arguments.length),E("Firebase.transaction",this.path),C("Firebase.transaction",1,n,o),C("Firebase.transaction",2,e,k),u(t)&&"boolean"!=typeof t&&g(Error(B("Firebase.transaction",3,k)+"must be a boolean.")),(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object."),"undefined"==typeof t&&(t=k);var a=this.n,i=this.path,s=t;a.e("transaction on "+i);var l=new J(a,i);l.bb("value",r);var s={path:i,update:n,C:e,status:m,jd:Ib(),sc:s,nd:0,pc:function(){l.Bb("value",r)},qc:m},c=s.update(U(a.kb,i).W());if(u(c)){Aa("transaction failed: Data returned ",c),s.status=1;var h=L(a.jb,i),d=h.k()||[];d.push(s),M(h,d),d="object"==typeof c&&c!==m&&D(c,".priority")?c[".priority"]:U(a.g.K,i).j(),h=fe(a),c=R(c,d),c=be(c,h),V(a.kb,i,c),s.sc&&(V(a.g.pa,i,c),Wd(a.J,i,[i])),ke(a)}else s.pc(),s.C&&(a=ne(a,i),s.C(m,o,a))},J.prototype.transaction=J.prototype.transaction,J.prototype.Pc=function(n,e){A("Firebase.setPriority",1,2,arguments.length),E("Firebase.setPriority",this.path),Ea("Firebase.setPriority",1,n,o),C("Firebase.setPriority",2,e,k),this.n.Pc(this.path,n,e)},J.prototype.setPriority=J.prototype.Pc,J.prototype.push=function(n,e){A("Firebase.push",0,2,arguments.length),E("Firebase.push",this.path),za("Firebase.push",n,k),C("Firebase.push",2,e,k);var t=ee(this.n),t=re(t),t=this.G(t);return"undefined"!=typeof n&&n!==m&&t.set(n,e),t},J.prototype.push=J.prototype.push,J.prototype.ka=function(){return new $(this.n,this.path,this.name())},J.prototype.onDisconnect=J.prototype.ka,J.prototype.Rd=function(){N("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead."),this.ka().remove(),je(this.n)},J.prototype.removeOnDisconnect=J.prototype.Rd,J.prototype.Ud=function(n){N("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead."),this.ka().set(n),je(this.n)},J.prototype.setOnDisconnect=J.prototype.Ud,J.prototype.nb=function(n,e,t){A("Firebase.auth",1,3,arguments.length),v(n)||g(Error(B("Firebase.auth",1,o)+"must be a valid credential (a string).")),C("Firebase.auth",2,e,k),C("Firebase.auth",3,e,k),this.n.nb(n,e,t)},J.prototype.auth=J.prototype.nb,J.prototype.Rb=function(n){A("Firebase.unauth",0,1,arguments.length),C("Firebase.unauth",1,n,k),this.n.Rb(n)},J.prototype.unauth=J.prototype.Rb,J.goOffline=function(){A("Firebase.goOffline",0,0,arguments.length),Y.tb().Ma()},J.goOnline=function(){A("Firebase.goOnline",0,0,arguments.length),Y.tb().hb()},J.enableLogging=Qb,J.ServerValue={TIMESTAMP:{".sv":"timestamp"}},J.INTERNAL=Z,J.Context=Y;