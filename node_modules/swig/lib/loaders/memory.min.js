var path=require("path"),utils=require("../utils");module.exports=function(e,n){var t={};return n=n?path.normalize(n):null,t.resolve=function(e,t){return t=n?n:t?path.dirname(t):"/",path.resolve(t,e)},t.load=function(n,t){var r,a;return a=[n,n.replace(/^(\/|\\)/,"")],r=e[a[0]]||e[a[1]],r||utils.throwError('Unable to find template "'+n+'".'),t?void t(null,r):r},t};