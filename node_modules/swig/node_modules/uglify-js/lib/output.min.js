"use strict";function OutputStream(e){function o(e,n){return e.replace(/[\u0080-\uffff]/g,function(e){var t=e.charCodeAt(0).toString(16);if(t.length<=2&&!n){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t})}function s(n,t){function i(){return"'"+n.replace(/\x27/g,"\\'")+"'"}function s(){return'"'+n.replace(/\x22/g,'\\"')+'"'}var r=0,a=0;switch(n=n.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e){switch(e){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':return++r,'"';case"'":return++a,"'";case"\x00":return"\\x00";case"\ufeff":return"\\ufeff"}return e}),e.ascii_only&&(n=o(n)),e.quote_style){case 1:return i();case 2:return s();case 3:return"'"==t?i():s();default:return r>a?i():s()}}function u(n,t){var r=s(n,t);return e.inline_script&&(r=r.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")),r}function l(n){return n=n.toString(),e.ascii_only&&(n=o(n,!0)),n}function c(t){return repeat_string(" ",e.indent_start+n-t*e.indent_level)}function p(){return h.charAt(h.length-1)}function m(){e.max_line_len&&t>e.max_line_len&&b("\n")}function b(n){n=String(n);var o=n.charAt(0);if(d&&(o&&!(";}".indexOf(o)<0)||/[;]$/.test(h)||(e.semicolons||g(o)?(i+=";",t++,a++):(i+="\n",a++,r++,t=0),e.beautify||(f=!1)),d=!1),!e.beautify&&e.preserve_line&&z[z.length-1])for(var s=z[z.length-1].start.line;s>r;)i+="\n",a++,r++,t=0,f=!1;if(f){var u=p();(is_identifier_char(u)&&(is_identifier_char(o)||"\\"==o)||/^[\+\-\/]$/.test(o)&&o==u)&&(i+=" ",t++,a++),f=!1}var l=n.split(/\r?\n/),c=l.length-1;r+=c,0==c?t+=l[c].length:t=l[c].length,a+=n.length,h=n,i+=n}function S(){d=!1,b(";")}function x(){return n+e.indent_level}function T(e){var n;return b("{"),k(),y(x(),function(){n=e()}),_(),b("}"),n}function M(e){b("(");var n=e();return b(")"),n}function L(e){b("[");var n=e();return b("]"),n}function D(){b(","),v()}function A(){b(":"),e.space_colon&&v()}function E(){return i}e=defaults(e,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!0,ascii_only:!1,unescape_regexps:!1,inline_script:!1,width:80,max_line_len:32e3,beautify:!1,source_map:null,bracketize:!1,semicolons:!0,comments:!1,preserve_line:!1,screw_ie8:!1,preamble:null,quote_style:0},!0);var n=0,t=0,r=1,a=0,i="",f=!1,d=!1,h=null,g=makePredicate("( [ + * / - , ."),v=e.beautify?function(){b(" ")}:function(){f=!0},_=e.beautify?function(n){e.beautify&&b(c(n?.5:0))}:noop,y=e.beautify?function(e,t){e===!0&&(e=x());var r=n;n=e;var a=t();return n=r,a}:function(e,n){return n()},k=e.beautify?function(){b("\n")}:m,w=e.beautify?function(){b(";")}:function(){d=!0},H=e.source_map?function(n,a){try{n&&e.source_map.add(n.file||"?",r,t,n.line,n.col,a||"name"!=n.type?a:n.value)}catch(i){AST_Node.warn("Couldn't figure out mapping for {file}:{line},{col} â†’ {cline},{ccol} [{name}]",{file:n.file,line:n.line,col:n.col,cline:r,ccol:t,name:a||""})}}:noop;e.preamble&&b(e.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"));var z=[];return{get:E,toString:E,indent:_,indentation:function(){return n},current_width:function(){return t-n},should_break:function(){return e.width&&this.current_width()>=e.width},newline:k,print:b,space:v,comma:D,colon:A,last:function(){return h},semicolon:w,force_semicolon:S,to_ascii:o,print_name:function(e){b(l(e))},print_string:function(e,n){b(u(e,n))},next_indent:x,with_indent:y,with_block:T,with_parens:M,with_square:L,add_mapping:H,option:function(n){return e[n]},line:function(){return r},col:function(){return t},pos:function(){return a},push_node:function(e){z.push(e)},pop_node:function(){return z.pop()},stack:function(){return z},parent:function(e){return z[z.length-2-(e||0)]}}}!function(){function e(e,n){e.DEFMETHOD("_codegen",n)}function n(e,t){Array.isArray(e)?e.forEach(function(e){n(e,t)}):e.DEFMETHOD("needs_parens",t)}function t(e,n,t){var r=e.length-1;e.forEach(function(e,a){e instanceof AST_EmptyStatement||(t.indent(),e.print(t),a==r&&n||(t.newline(),n&&t.newline()))})}function r(e,n){e.length>0?n.with_block(function(){t(e,!1,n)}):n.print("{}")}function a(e,n){if(n.option("bracketize"))return void d(e.body,n);if(!e.body)return n.force_semicolon();if(e.body instanceof AST_Do&&!n.option("screw_ie8"))return void d(e.body,n);for(var t=e.body;;)if(t instanceof AST_If){if(!t.alternative)return void d(e.body,n);t=t.alternative}else{if(!(t instanceof AST_StatementWithBody))break;t=t.body}s(e.body,n)}function i(e,n,t){if(t)try{e.walk(new TreeWalker(function(e){if(e instanceof AST_Binary&&"in"==e.operator)throw n})),e.print(n)}catch(r){if(r!==n)throw r;e.print(n,!0)}else e.print(n)}function o(e){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(e)<0}function s(e,n){n.option("bracketize")?!e||e instanceof AST_EmptyStatement?n.print("{}"):e instanceof AST_BlockStatement?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()}):!e||e instanceof AST_EmptyStatement?n.force_semicolon():e.print(n)}function u(e){for(var n=e.stack(),t=n.length,r=n[--t],a=n[--t];t>0;){if(a instanceof AST_Statement&&a.body===r)return!0;if(!(a instanceof AST_Seq&&a.car===r||a instanceof AST_Call&&a.expression===r&&!(a instanceof AST_New)||a instanceof AST_Dot&&a.expression===r||a instanceof AST_Sub&&a.expression===r||a instanceof AST_Conditional&&a.condition===r||a instanceof AST_Binary&&a.left===r||a instanceof AST_UnaryPostfix&&a.expression===r))return!1;r=a,a=n[--t]}}function l(e,n){return 0==e.args.length&&!n.option("beautify")}function c(e){for(var n=e[0],t=n.length,r=1;r<e.length;++r)e[r].length<t&&(n=e[r],t=n.length);return n}function f(e){var r,n=e.toString(10),t=[n.replace(/^0\./,".").replace("e+","e")];return Math.floor(e)===e?(e>=0?t.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):t.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),(r=/^(.*?)(0+)$/.exec(e))&&t.push(r[1]+"e"+r[2].length)):(r=/^0?\.(0+)(.*)$/.exec(e))&&t.push(r[2]+"e-"+(r[1].length+r[2].length),n.substr(n.indexOf("."))),c(t)}function d(e,n){return e instanceof AST_BlockStatement?void e.print(n):void n.with_block(function(){n.indent(),e.print(n),n.newline()})}function h(e,n){e.DEFMETHOD("add_source_map",function(e){n(this,e)})}function p(e,n){n.add_mapping(e.start)}AST_Node.DEFMETHOD("print",function(e,n){function a(){t.add_comments(e),t.add_source_map(e),r(t,e)}var t=this,r=t._codegen;e.push_node(t),n||t.needs_parens(e)?e.with_parens(a):a(),e.pop_node()}),AST_Node.DEFMETHOD("print_to_string",function(e){var n=OutputStream(e);return this.print(n),n.get()}),AST_Node.DEFMETHOD("add_comments",function(e){var n=e.option("comments"),t=this;if(n){var r=t.start;if(r&&!r._comments_dumped){r._comments_dumped=!0;var a=r.comments_before||[];t instanceof AST_Exit&&t.value&&t.value.walk(new TreeWalker(function(e){return e.start&&e.start.comments_before&&(a=a.concat(e.start.comments_before),e.start.comments_before=[]),e instanceof AST_Function||e instanceof AST_Array||e instanceof AST_Object?!0:void 0})),n.test?a=a.filter(function(e){return n.test(e.value)}):"function"==typeof n&&(a=a.filter(function(e){return n(t,e)})),!e.option("beautify")&&a.length>0&&/comment[134]/.test(a[0].type)&&0!==e.col()&&a[0].nlb&&e.print("\n"),a.forEach(function(n){/comment[134]/.test(n.type)?(e.print("//"+n.value+"\n"),e.indent()):"comment2"==n.type&&(e.print("/*"+n.value+"*/"),r.nlb?(e.print("\n"),e.indent()):e.space())})}}}),n(AST_Node,function(){return!1}),n(AST_Function,function(e){return u(e)}),n(AST_Object,function(e){return u(e)}),n([AST_Unary,AST_Undefined],function(e){var n=e.parent();return n instanceof AST_PropAccess&&n.expression===this}),n(AST_Seq,function(e){var n=e.parent();return n instanceof AST_Call||n instanceof AST_Unary||n instanceof AST_Binary||n instanceof AST_VarDef||n instanceof AST_PropAccess||n instanceof AST_Array||n instanceof AST_ObjectProperty||n instanceof AST_Conditional}),n(AST_Binary,function(e){var n=e.parent();if(n instanceof AST_Call&&n.expression===this)return!0;if(n instanceof AST_Unary)return!0;if(n instanceof AST_PropAccess&&n.expression===this)return!0;if(n instanceof AST_Binary){var t=n.operator,r=PRECEDENCE[t],a=this.operator,i=PRECEDENCE[a];if(r>i||r==i&&this===n.right)return!0}}),n(AST_PropAccess,function(e){var n=e.parent();if(n instanceof AST_New&&n.expression===this)try{this.walk(new TreeWalker(function(e){if(e instanceof AST_Call)throw n}))}catch(t){if(t!==n)throw t;return!0}}),n(AST_Call,function(e){var t,n=e.parent();return n instanceof AST_New&&n.expression===this?!0:this.expression instanceof AST_Function&&n instanceof AST_PropAccess&&n.expression===this&&(t=e.parent(1))instanceof AST_Assign&&t.left===n}),n(AST_New,function(e){var n=e.parent();return l(this,e)&&(n instanceof AST_PropAccess||n instanceof AST_Call&&n.expression===this)?!0:void 0}),n(AST_Number,function(e){var n=e.parent();return this.getValue()<0&&n instanceof AST_PropAccess&&n.expression===this?!0:void 0}),n([AST_Assign,AST_Conditional],function(e){var n=e.parent();return n instanceof AST_Unary?!0:n instanceof AST_Binary&&!(n instanceof AST_Assign)?!0:n instanceof AST_Call&&n.expression===this?!0:n instanceof AST_Conditional&&n.condition===this?!0:n instanceof AST_PropAccess&&n.expression===this?!0:void 0}),e(AST_Directive,function(e,n){n.print_string(e.value,e.quote),n.semicolon()}),e(AST_Debugger,function(e,n){n.print("debugger"),n.semicolon()}),AST_StatementWithBody.DEFMETHOD("_do_print_body",function(e){s(this.body,e)}),e(AST_Statement,function(e,n){e.body.print(n),n.semicolon()}),e(AST_Toplevel,function(e,n){t(e.body,!0,n),n.print("")}),e(AST_LabeledStatement,function(e,n){e.label.print(n),n.colon(),e.body.print(n)}),e(AST_SimpleStatement,function(e,n){e.body.print(n),n.semicolon()}),e(AST_BlockStatement,function(e,n){r(e.body,n)}),e(AST_EmptyStatement,function(e,n){n.semicolon()}),e(AST_Do,function(e,n){n.print("do"),n.space(),e._do_print_body(n),n.space(),n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.semicolon()}),e(AST_While,function(e,n){n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e._do_print_body(n)}),e(AST_For,function(e,n){n.print("for"),n.space(),n.with_parens(function(){!e.init||e.init instanceof AST_EmptyStatement?n.print(";"):(e.init instanceof AST_Definitions?e.init.print(n):i(e.init,n,!0),n.print(";"),n.space()),e.condition?(e.condition.print(n),n.print(";"),n.space()):n.print(";"),e.step&&e.step.print(n)}),n.space(),e._do_print_body(n)}),e(AST_ForIn,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init.print(n),n.space(),n.print("in"),n.space(),e.object.print(n)}),n.space(),e._do_print_body(n)}),e(AST_With,function(e,n){n.print("with"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space(),e._do_print_body(n)}),AST_Lambda.DEFMETHOD("_do_print",function(e,n){var t=this;n||e.print("function"),t.name&&(e.space(),t.name.print(e)),e.with_parens(function(){t.argnames.forEach(function(n,t){t&&e.comma(),n.print(e)})}),e.space(),r(t.body,e)}),e(AST_Lambda,function(e,n){e._do_print(n)}),AST_Exit.DEFMETHOD("_do_print",function(e,n){e.print(n),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),e(AST_Return,function(e,n){e._do_print(n,"return")}),e(AST_Throw,function(e,n){e._do_print(n,"throw")}),AST_LoopControl.DEFMETHOD("_do_print",function(e,n){e.print(n),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(AST_Break,function(e,n){e._do_print(n,"break")}),e(AST_Continue,function(e,n){e._do_print(n,"continue")}),e(AST_If,function(e,n){n.print("if"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e.alternative?(a(e,n),n.space(),n.print("else"),n.space(),s(e.alternative,n)):e._do_print_body(n)}),e(AST_Switch,function(e,n){n.print("switch"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space(),e.body.length>0?n.with_block(function(){e.body.forEach(function(e,t){t&&n.newline(),n.indent(!0),e.print(n)})}):n.print("{}")}),AST_SwitchBranch.DEFMETHOD("_do_print_body",function(e){this.body.length>0&&(e.newline(),this.body.forEach(function(n){e.indent(),n.print(e),e.newline()}))}),e(AST_Default,function(e,n){n.print("default:"),e._do_print_body(n)}),e(AST_Case,function(e,n){n.print("case"),n.space(),e.expression.print(n),n.print(":"),e._do_print_body(n)}),e(AST_Try,function(e,n){n.print("try"),n.space(),r(e.body,n),e.bcatch&&(n.space(),e.bcatch.print(n)),e.bfinally&&(n.space(),e.bfinally.print(n))}),e(AST_Catch,function(e,n){n.print("catch"),n.space(),n.with_parens(function(){e.argname.print(n)}),n.space(),r(e.body,n)}),e(AST_Finally,function(e,n){n.print("finally"),n.space(),r(e.body,n)}),AST_Definitions.DEFMETHOD("_do_print",function(e,n){e.print(n),e.space(),this.definitions.forEach(function(n,t){t&&e.comma(),n.print(e)});var t=e.parent(),r=t instanceof AST_For||t instanceof AST_ForIn,a=r&&t.init===this;a||e.semicolon()}),e(AST_Var,function(e,n){e._do_print(n,"var")}),e(AST_Const,function(e,n){e._do_print(n,"const")}),e(AST_VarDef,function(e,n){if(e.name.print(n),e.value){n.space(),n.print("="),n.space();var t=n.parent(1),r=t instanceof AST_For||t instanceof AST_ForIn;i(e.value,n,r)}}),e(AST_Call,function(e,n){e.expression.print(n),e instanceof AST_New&&l(e,n)||n.with_parens(function(){e.args.forEach(function(e,t){t&&n.comma(),e.print(n)})})}),e(AST_New,function(e,n){n.print("new"),n.space(),AST_Call.prototype._codegen(e,n)}),AST_Seq.DEFMETHOD("_do_print",function(e){this.car.print(e),this.cdr&&(e.comma(),e.should_break()&&(e.newline(),e.indent()),this.cdr.print(e))}),e(AST_Seq,function(e,n){e._do_print(n)}),e(AST_Dot,function(e,n){var t=e.expression;t.print(n),t instanceof AST_Number&&t.getValue()>=0&&(/[xa-f.]/i.test(n.last())||n.print(".")),n.print("."),n.add_mapping(e.end),n.print_name(e.property)}),e(AST_Sub,function(e,n){e.expression.print(n),n.print("["),e.property.print(n),n.print("]")}),e(AST_UnaryPrefix,function(e,n){var t=e.operator;n.print(t),(/^[a-z]/i.test(t)||/[+-]$/.test(t)&&e.expression instanceof AST_UnaryPrefix&&/^[+-]/.test(e.expression.operator))&&n.space(),e.expression.print(n)}),e(AST_UnaryPostfix,function(e,n){e.expression.print(n),n.print(e.operator)}),e(AST_Binary,function(e,n){e.left.print(n),n.space(),n.print(e.operator),"<"==e.operator&&e.right instanceof AST_UnaryPrefix&&"!"==e.right.operator&&e.right.expression instanceof AST_UnaryPrefix&&"--"==e.right.expression.operator?n.print(" "):n.space(),e.right.print(n)}),e(AST_Conditional,function(e,n){e.condition.print(n),n.space(),n.print("?"),n.space(),e.consequent.print(n),n.space(),n.colon(),e.alternative.print(n)}),e(AST_Array,function(e,n){n.with_square(function(){var t=e.elements,r=t.length;r>0&&n.space(),t.forEach(function(e,t){t&&n.comma(),e.print(n),t===r-1&&e instanceof AST_Hole&&n.comma()}),r>0&&n.space()})}),e(AST_Object,function(e,n){e.properties.length>0?n.with_block(function(){e.properties.forEach(function(e,t){t&&(n.print(","),n.newline()),n.indent(),e.print(n)}),n.newline()}):n.print("{}")}),e(AST_ObjectKeyVal,function(e,n){var t=e.key,r=e.quote;n.option("quote_keys")?n.print_string(t+""):("number"==typeof t||!n.option("beautify")&&+t+""==t)&&parseFloat(t)>=0?n.print(f(t)):(RESERVED_WORDS(t)?n.option("screw_ie8"):is_identifier_string(t))?n.print_name(t):n.print_string(t,r),n.colon(),e.value.print(n)}),e(AST_ObjectSetter,function(e,n){n.print("set"),n.space(),e.key.print(n),e.value._do_print(n,!0)}),e(AST_ObjectGetter,function(e,n){n.print("get"),n.space(),e.key.print(n),e.value._do_print(n,!0)}),e(AST_Symbol,function(e,n){var t=e.definition();n.print_name(t?t.mangled_name||t.name:e.name)}),e(AST_Undefined,function(e,n){n.print("void 0")}),e(AST_Hole,noop),e(AST_Infinity,function(e,n){n.print("Infinity")}),e(AST_NaN,function(e,n){n.print("NaN")}),e(AST_This,function(e,n){n.print("this")}),e(AST_Constant,function(e,n){n.print(e.getValue())}),e(AST_String,function(e,n){n.print_string(e.getValue(),e.quote)}),e(AST_Number,function(e,n){n.print(f(e.getValue()))}),e(AST_RegExp,function(e,n){var t=e.getValue().toString();n.option("ascii_only")?t=n.to_ascii(t):n.option("unescape_regexps")&&(t=t.split("\\\\").map(function(e){return e.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(e){var n=parseInt(e.substr(2),16);return o(n)?String.fromCharCode(n):e})}).join("\\\\")),n.print(t);var r=n.parent();r instanceof AST_Binary&&/^in/.test(r.operator)&&r.left===e&&n.print(" ")}),h(AST_Node,noop),h(AST_Directive,p),h(AST_Debugger,p),h(AST_Symbol,p),h(AST_Jump,p),h(AST_StatementWithBody,p),h(AST_LabeledStatement,noop),h(AST_Lambda,p),h(AST_Switch,p),h(AST_SwitchBranch,p),h(AST_BlockStatement,p),h(AST_Toplevel,noop),h(AST_New,p),h(AST_Try,p),h(AST_Catch,p),h(AST_Finally,p),h(AST_Definitions,p),h(AST_Constant,p),h(AST_ObjectProperty,function(e,n){n.add_mapping(e.start,e.key)})}();