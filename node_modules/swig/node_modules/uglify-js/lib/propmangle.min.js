"use strict";function find_builtins(){function n(n){push_uniq(e,n)}var e=[];return[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(e){Object.getOwnPropertyNames(e).map(n),e.prototype&&Object.getOwnPropertyNames(e.prototype).map(n)}),e}function mangle_properties(e,n){function o(e){return t.indexOf(e)>=0?!1:n.only_cache?r.props.has(e):/^[0-9.]+$/.test(e)?!1:!0}function s(e){return a&&!a.test(e)?!1:t.indexOf(e)>=0?!1:r.props.has(e)||i.indexOf(e)>=0}function u(e){o(e)&&push_uniq(i,e)}function l(e){var n=r.props.get(e);if(!n){do n=base54(++r.cname);while(!o(n));r.props.set(e,n)}return n}function c(e){var n={};try{!function r(e){e.walk(new TreeWalker(function(e){if(e instanceof AST_Seq)return r(e.cdr),!0;if(e instanceof AST_String)return u(e.value),!0;if(e instanceof AST_Conditional)return r(e.consequent),r(e.alternative),!0;throw n}))}(e)}catch(t){if(t!==n)throw t}}function f(e){return e.transform(new TreeTransformer(function(e){return e instanceof AST_Seq?e.cdr=f(e.cdr):e instanceof AST_String?s(e.value)&&(e.value=l(e.value)):e instanceof AST_Conditional&&(e.consequent=f(e.consequent),e.alternative=f(e.alternative)),e}))}n=defaults(n,{reserved:null,cache:null,only_cache:!1,regex:null});var t=n.reserved;null==t&&(t=find_builtins());var r=n.cache;null==r&&(r={cname:-1,props:new Dictionary});var a=n.regex,i=[];return e.walk(new TreeWalker(function(e){e instanceof AST_ObjectKeyVal?u(e.key):e instanceof AST_ObjectProperty?u(e.key.name):e instanceof AST_Dot?this.parent()instanceof AST_Assign&&u(e.property):e instanceof AST_Sub&&this.parent()instanceof AST_Assign&&c(e.property)})),e.transform(new TreeTransformer(function(e){e instanceof AST_ObjectKeyVal?s(e.key)&&(e.key=l(e.key)):e instanceof AST_ObjectProperty?s(e.key.name)&&(e.key.name=l(e.key.name)):e instanceof AST_Dot?s(e.property)&&(e.property=l(e.property)):e instanceof AST_Sub&&(e.property=f(e.property))}))}