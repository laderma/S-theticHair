"use strict";function TreeTransformer(e,n){TreeWalker.call(this),this.before=e,this.after=n}TreeTransformer.prototype=new TreeWalker,function(e){function n(n,t){n.DEFMETHOD("transform",function(n,r){var a,i;return n.push(this),n.before&&(a=n.before(this,t,r)),a===e&&(n.after?(n.stack[n.stack.length-1]=a=this.clone(),t(a,n),i=n.after(a,r),i!==e&&(a=i)):(a=this,t(a,n))),n.pop(),a})}function t(e,n){return MAP(e,function(e){return e.transform(n,!0)})}n(AST_Node,noop),n(AST_LabeledStatement,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),n(AST_SimpleStatement,function(e,n){e.body=e.body.transform(n)}),n(AST_Block,function(e,n){e.body=t(e.body,n)}),n(AST_DWLoop,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),n(AST_For,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),n(AST_ForIn,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),n(AST_With,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),n(AST_Exit,function(e,n){e.value&&(e.value=e.value.transform(n))}),n(AST_LoopControl,function(e,n){e.label&&(e.label=e.label.transform(n))}),n(AST_If,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),n(AST_Switch,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),n(AST_Case,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),n(AST_Try,function(e,n){e.body=t(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),n(AST_Catch,function(e,n){e.argname=e.argname.transform(n),e.body=t(e.body,n)}),n(AST_Definitions,function(e,n){e.definitions=t(e.definitions,n)}),n(AST_VarDef,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),n(AST_Lambda,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=t(e.argnames,n),e.body=t(e.body,n)}),n(AST_Call,function(e,n){e.expression=e.expression.transform(n),e.args=t(e.args,n)}),n(AST_Seq,function(e,n){e.car=e.car.transform(n),e.cdr=e.cdr.transform(n)}),n(AST_Dot,function(e,n){e.expression=e.expression.transform(n)}),n(AST_Sub,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),n(AST_Unary,function(e,n){e.expression=e.expression.transform(n)}),n(AST_Binary,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),n(AST_Conditional,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),n(AST_Array,function(e,n){e.elements=t(e.elements,n)}),n(AST_Object,function(e,n){e.properties=t(e.properties,n)}),n(AST_ObjectProperty,function(e,n){e.value=e.value.transform(n)})}();