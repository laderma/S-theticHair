if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(e,n,t){function i(){this._array=[],this._set={}}var r=e("./util");i.fromArray=function(e,n){for(var t=new i,r=0,a=e.length;a>r;r++)t.add(e[r],n);return t},i.prototype.add=function(e,n){var t=this.has(e),i=this._array.length;(!t||n)&&this._array.push(e),t||(this._set[r.toSetString(e)]=i)},i.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,r.toSetString(e))},i.prototype.indexOf=function(e){if(this.has(e))return this._set[r.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},n.ArraySet=i});