"use strict";var lrSnippet=require("grunt-contrib-livereload/lib/utils").livereloadSnippet,mountFolder=function(n,e){return n["static"](require("path").resolve(e))},proxySnippet=require("grunt-connect-proxy/lib/utils").proxyRequest;module.exports=function(n){require("matchdep").filterDev("grunt-*").forEach(n.loadNpmTasks);var e={app:"app",dist:"dist"};n.initConfig({yeoman:e,watch:{compass:{files:["<%= yeoman.app %>/styles/{,*/}*.{scss,sass}"],tasks:["compass"]},livereload:{files:["<%= yeoman.app %>/*.html","{.tmp,<%= yeoman.app %>}/styles/{,*/}*.css","{.tmp,<%= yeoman.app %>}/scripts/{,*/}*.js","<%= yeoman.app %>/images/{,*/}*.{png,jpg,jpeg,webp}"],tasks:["livereload"]}},connect:{options:{port:9e3,hostname:"localhost"},proxies:[{context:"/cortex",host:"localhost",port:8080}],livereload:{options:{middleware:function(n){return[proxySnippet,lrSnippet,mountFolder(n,".tmp"),mountFolder(n,"app")]}}},test:{options:{middleware:function(n){return[mountFolder(n,".tmp"),mountFolder(n,"test")]}}},dist:{options:{middleware:function(n){return[mountFolder(n,"dist")]}}}},open:{server:{path:"http://localhost:<%= connect.options.port %>"}},clean:{dist:[".tmp","<%= yeoman.dist %>/*"],server:".tmp"},jshint:{options:{jshintrc:".jshintrc"},all:["Gruntfile.js","<%= yeoman.app %>/scripts/{,*/}*.js","!<%= yeoman.app %>/scripts/vendor/*","test/spec/{,*/}*.js"]},mocha:{all:{options:{run:!0,urls:["http://localhost:<%= connect.options.port %>/index.html"]}}},compass:{options:{sassDir:"<%= yeoman.app %>/styles",cssDir:".tmp/styles",imagesDir:"<%= yeoman.app %>/images",javascriptsDir:"<%= yeoman.app %>/scripts",fontsDir:"<%= yeoman.app %>/styles/fonts",importPath:"app/components",relativeAssets:!0},dist:{},server:{options:{debugInfo:!0}}},requirejs:{dist:{options:{baseUrl:"app/scripts",optimize:"none",preserveLicenseComments:!1,useStrict:!0,wrap:!0}}},useminPrepare:{html:"<%= yeoman.app %>/index.html",options:{dest:"<%= yeoman.dist %>"}},usemin:{html:["<%= yeoman.dist %>/{,*/}*.html"],css:["<%= yeoman.dist %>/styles/{,*/}*.css"],options:{dirs:["<%= yeoman.dist %>"]}},imagemin:{dist:{files:[{expand:!0,cwd:"<%= yeoman.app %>/images",src:"{,*/}*.{png,jpg,jpeg}",dest:"<%= yeoman.dist %>/images"}]}},cssmin:{dist:{files:{"<%= yeoman.dist %>/styles/main.css":[".tmp/styles/{,*/}*.css","<%= yeoman.app %>/styles/{,*/}*.css"]}}},htmlmin:{dist:{options:{},files:[{expand:!0,cwd:"<%= yeoman.app %>",src:"*.html",dest:"<%= yeoman.dist %>"}]}},copy:{dist:{files:[{expand:!0,dot:!0,cwd:"<%= yeoman.app %>",dest:"<%= yeoman.dist %>",src:["*.{ico,txt}",".htaccess"]}]}},bower:{all:{rjsConfig:"<%= yeoman.app %>/scripts/main.js"}}}),n.renameTask("regarde","watch"),n.registerTask("server",function(e){return"dist"===e?n.task.run(["build","open","connect:dist:keepalive"]):void n.task.run(["clean:server","compass:server","configureProxies","livereload-start","connect:livereload","open","watch"])}),n.registerTask("test",["clean:server","compass","connect:test","mocha"]),n.registerTask("build",["clean:dist","compass:dist","useminPrepare","requirejs","imagemin","htmlmin","concat","cssmin","uglify","copy","usemin"]),n.registerTask("default",["jshint","test","build"])};