"use strict";var utils=require("../lib/utils.js"),http=require("http");exports.connect_proxy={setUp:function(n){n()},proxied_request:function(n){n.expect(2),http.createServer(function(n,e){e.writeHead(200,{"x-hidden-header-1":"this header should be removed","x-hidden-header-2":"this header should also be removed"}),e.end()}).listen(8081),http.request({host:"localhost",path:"/hideHeaders",port:9e3},function(e){n.equal(e.headers["x-hidden-header-1"],void 0,"hidden header should be hidden"),n.equal(e.headers["x-hidden-header-2"],void 0,"hidden header should also be hidden"),n.done()}).end()}};