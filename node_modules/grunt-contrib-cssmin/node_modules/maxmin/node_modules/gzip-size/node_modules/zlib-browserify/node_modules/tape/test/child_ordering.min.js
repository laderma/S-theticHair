var test=require("../"),childRan=!1;test("parent",function(e){e.test("child",function(e){childRan=!0,e.pass("child ran"),e.end()}),e.end()}),test("uncle",function(e){e.ok(childRan,"Child should run before next top-level test"),e.end()});var grandParentRan=!1,parentRan=!1,grandChildRan=!1;test("grandparent",function(e){grandParentRan=!0,e.test("parent",function(e){parentRan=!0,e.test("grandchild",function(e){grandChildRan=!0,e.pass("grand child ran"),e.end()}),e.pass("parent ran"),e.end()}),e.test("other parent",function(e){e.ok(parentRan,"first parent runs before second parent"),e.ok(grandChildRan,"grandchild runs before second parent"),e.end()}),e.pass("grandparent ran"),e.end()}),test("second grandparent",function(e){e.ok(grandParentRan,"grandparent ran"),e.ok(parentRan,"parent ran"),e.ok(grandChildRan,"grandchild ran"),e.pass("other grandparent ran"),e.end()});