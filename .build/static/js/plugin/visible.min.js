$(function(n){n.fn.visible=function(e,a,r){var t=n(this).eq(0),i=t.get(0),s=n(window),l=s.scrollTop(),o=l+s.height(),u=s.scrollLeft(),h=u+s.width(),d=t.offset().top,c=d+t.height(),f=t.offset().left,g=f+t.width(),m=e===!0?c:d,p=e===!0?d:c,b=e===!0?g:f,H=e===!0?f:g,k=a===!0?i.offsetWidth*i.offsetHeight:!0,r=r?r:"both";return"both"===r?!!k&&o>=p&&m>=l&&h>=H&&b>=u:"vertical"===r?!!k&&o>=p&&m>=l:"horizontal"===r?!!k&&h>=H&&b>=u:void 0}});