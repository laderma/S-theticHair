!function(n,e,a){"use strict";var r={version:"2.1",tipLocation:"bottom",nubPosition:"auto",scroll:!0,scrollSpeed:300,timer:0,autoStart:!1,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,cookiePath:!1,localStorage:!1,localStorageKey:"joyride",tipContainer:"body",modal:!1,expose:!1,postExposeCallback:n.noop,preRideCallback:n.noop,postRideCallback:n.noop,preStepCallback:n.noop,postStepCallback:n.noop,template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper" role="dialog"></div>',button:'<a href="#" class="joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'}},t=t||!1,i={},s={init:function(a){return this.each(function(){n.isEmptyObject(i)?(i=n.extend(!0,r,a),i.document=e.document,i.$document=n(i.document),i.$window=n(e),i.$content_el=n(this),i.$body=n(i.tipContainer),i.body_offset=n(i.tipContainer).position(),i.$tip_content=n("> li",i.$content_el),i.paused=!1,i.attempts=0,i.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},s.jquery_check(),n.isFunction(n.cookie)||(i.cookieMonster=!1),i.cookieMonster&&n.cookie(i.cookieName)||i.localStorage&&s.support_localstorage()&&localStorage.getItem(i.localStorageKey)||(i.$tip_content.each(function(e){s.create({$li:n(this),index:e})}),i.autoStart&&(!i.startTimerOnClick&&i.timer>0?(s.show("init"),s.startTimer()):s.show("init"))),i.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(n){n.preventDefault(),i.$li.next().length<1?s.end():i.timer>0?(clearTimeout(i.automate),s.hide(),s.show(),s.startTimer()):(s.hide(),s.show())}),i.$document.on("click.joyride",".joyride-close-tip",function(n){n.preventDefault(),s.end(!0)}),i.$window.bind("resize.joyride",function(e){if(i.$li){if(i.exposed&&i.exposed.length>0){var a=n(i.exposed);a.each(function(){var e=n(this);s.un_expose(e),s.expose(e)})}s.is_phone()?s.pos_phone():s.pos_default()}})):s.restart()})},resume:function(){s.set_li(),s.show()},nextTip:function(){i.$li.next().length<1?s.end():i.timer>0?(clearTimeout(i.automate),s.hide(),s.show(),s.startTimer()):(s.hide(),s.show())},tip_template:function(e){var a,r,t;return e.tip_class=e.tip_class||"",a=n(i.template.tip).addClass(e.tip_class),r=n.trim(n(e.li).html())+s.button_text(e.button_text)+i.template.link+s.timer_instance(e.index),t=n(i.template.wrapper),e.li.attr("data-aria-labelledby")&&t.attr("aria-labelledby",e.li.attr("data-aria-labelledby")),e.li.attr("data-aria-describedby")&&t.attr("aria-describedby",e.li.attr("data-aria-describedby")),a.append(t),a.first().attr("data-index",e.index),n(".joyride-content-wrapper",a).append(r),a[0]},timer_instance:function(e){var a;return a=0===e&&i.startTimerOnClick&&i.timer>0||0===i.timer?"":s.outerHTML(n(i.template.timer)[0])},button_text:function(e){return i.nextButton?(e=n.trim(e)||"Next",e=s.outerHTML(n(i.template.button).append(e)[0])):e="",e},create:function(e){var a=e.$li.attr("data-button")||e.$li.attr("data-text"),r=e.$li.attr("class"),t=n(s.tip_template({tip_class:r,index:e.index,button_text:a,li:e.$li}));n(i.tipContainer).append(t)},show:function(e){var t,u,r={},l=[],o=0,h=null;if(i.$li===a||-1===n.inArray(i.$li.index(),i.pauseAfter))if(i.paused?i.paused=!1:s.set_li(e),i.attempts=0,i.$li.length&&i.$target.length>0){for(e&&(i.preRideCallback(i.$li.index(),i.$next_tip),i.modal&&s.show_modal()),i.preStepCallback(i.$li.index(),i.$next_tip),l=(i.$li.data("options")||":").split(";"),o=l.length,t=o-1;t>=0;t--)u=l[t].split(":"),2===u.length&&(r[n.trim(u[0])]=n.trim(u[1]));i.tipSettings=n.extend({},i,r),i.tipSettings.tipLocationPattern=i.tipLocationPatterns[i.tipSettings.tipLocation],i.modal&&i.expose&&s.expose(),!/body/i.test(i.$target.selector)&&i.scroll&&s.scroll_to(),s.is_phone()?s.pos_phone(!0):s.pos_default(!0),h=n(".joyride-timer-indicator",i.$next_tip),/pop/i.test(i.tipAnimation)?(h.outerWidth(0),i.timer>0?(i.$next_tip.show(),h.animate({width:n(".joyride-timer-indicator-wrap",i.$next_tip).outerWidth()},i.timer)):i.$next_tip.show()):/fade/i.test(i.tipAnimation)&&(h.outerWidth(0),i.timer>0?(i.$next_tip.fadeIn(i.tipAnimationFadeSpeed),i.$next_tip.show(),h.animate({width:n(".joyride-timer-indicator-wrap",i.$next_tip).outerWidth()},i.timer)):i.$next_tip.fadeIn(i.tipAnimationFadeSpeed)),i.$current_tip=i.$next_tip,n(".joyride-next-tip",i.$current_tip).focus(),s.tabbable(i.$current_tip)}else i.$li&&i.$target.length<1?s.show():s.end();else i.paused=!0},is_phone:function(){return t?t.mq("only screen and (max-width: 767px)"):i.$window.width()<767?!0:!1},support_localstorage:function(){return t?t.localstorage:!!e.localStorage},hide:function(){i.modal&&i.expose&&s.un_expose(),i.modal||n(".joyride-modal-bg").hide(),i.$current_tip.hide(),i.postStepCallback(i.$li.index(),i.$current_tip)},set_li:function(n){n?(i.$li=i.$tip_content.eq(i.startOffset),s.set_next_tip(),i.$current_tip=i.$next_tip):(i.$li=i.$li.next(),s.set_next_tip()),s.set_target()},set_next_tip:function(){i.$next_tip=n(".joyride-tip-guide[data-index="+i.$li.index()+"]")},set_target:function(){var e=i.$li.attr("data-class"),a=i.$li.attr("data-id"),r=function(){return a?n(i.document.getElementById(a)):e?n("."+e).filter(":visible").first():n("body")};i.$target=r()},scroll_to:function(){var e,a;e=i.$window.height()/2,a=Math.ceil(i.$target.offset().top-e+i.$next_tip.outerHeight()),n("html, body").stop().animate({scrollTop:a},i.scrollSpeed)},paused:function(){return-1===n.inArray(i.$li.index()+1,i.pauseAfter)?!0:!1},destroy:function(){n.isEmptyObject(i)||i.$document.off(".joyride"),n(e).off(".joyride"),n(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),n(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(i.automate),i={}},restart:function(){i.autoStart?(s.hide(),i.$li=a,s.show("init")):(!i.startTimerOnClick&&i.timer>0?(s.show("init"),s.startTimer()):s.show("init"),i.autoStart=!0)},pos_default:function(e){var t=(Math.ceil(i.$window.height()/2),i.$next_tip.offset(),n(".joyride-nub",i.$next_tip)),l=Math.ceil(t.outerWidth()/2),o=Math.ceil(t.outerHeight()/2),u=e||!1;if(u&&(i.$next_tip.css("visibility","hidden"),i.$next_tip.show()),/body/i.test(i.$target.selector))i.$li.length&&s.pos_modal(t);else{var h=i.tipSettings.tipAdjustmentY?parseInt(i.tipSettings.tipAdjustmentY):0,d=i.tipSettings.tipAdjustmentX?parseInt(i.tipSettings.tipAdjustmentX):0;s.bottom()?(i.$next_tip.css({top:i.$target.offset().top+o+i.$target.outerHeight()+h,left:i.$target.offset().left+d}),/right/i.test(i.tipSettings.nubPosition)&&i.$next_tip.css("left",i.$target.offset().left-i.$next_tip.outerWidth()+i.$target.outerWidth()),s.nub_position(t,i.tipSettings.nubPosition,"top")):s.top()?(i.$next_tip.css({top:i.$target.offset().top-i.$next_tip.outerHeight()-o+h,left:i.$target.offset().left+d}),s.nub_position(t,i.tipSettings.nubPosition,"bottom")):s.right()?(i.$next_tip.css({top:i.$target.offset().top+h,left:i.$target.outerWidth()+i.$target.offset().left+l+d}),s.nub_position(t,i.tipSettings.nubPosition,"left")):s.left()&&(i.$next_tip.css({top:i.$target.offset().top+h,left:i.$target.offset().left-i.$next_tip.outerWidth()-l+d}),s.nub_position(t,i.tipSettings.nubPosition,"right")),!s.visible(s.corners(i.$next_tip))&&i.attempts<i.tipSettings.tipLocationPattern.length&&(t.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),i.tipSettings.tipLocation=i.tipSettings.tipLocationPattern[i.attempts],i.attempts++,s.pos_default(!0))}u&&(i.$next_tip.hide(),i.$next_tip.css("visibility","visible"))},pos_phone:function(e){var a=i.$next_tip.outerHeight(),t=(i.$next_tip.offset(),i.$target.outerHeight()),l=n(".joyride-nub",i.$next_tip),o=Math.ceil(l.outerHeight()/2),u=e||!1;l.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),u&&(i.$next_tip.css("visibility","hidden"),i.$next_tip.show()),/body/i.test(i.$target.selector)?i.$li.length&&s.pos_modal(l):s.top()?(i.$next_tip.offset({top:i.$target.offset().top-a-o}),l.addClass("bottom")):(i.$next_tip.offset({top:i.$target.offset().top+t+o}),l.addClass("top")),u&&(i.$next_tip.hide(),i.$next_tip.css("visibility","visible"))},pos_modal:function(n){s.center(),n.hide(),s.show_modal()},show_modal:function(){n(".joyride-modal-bg").length<1&&n("body").append(i.template.modal).show(),/pop/i.test(i.tipAnimation)?n(".joyride-modal-bg").show():n(".joyride-modal-bg").fadeIn(i.tipAnimationFadeSpeed)},expose:function(){var a,r,t,l,o="expose-"+Math.floor(1e4*Math.random());if(arguments.length>0&&arguments[0]instanceof n)t=arguments[0];else{if(!i.$target||/body/i.test(i.$target.selector))return!1;t=i.$target}return t.length<1?(e.console&&console.error("element not valid",t),!1):(a=n(i.template.expose),i.$body.append(a),a.css({top:t.offset().top,left:t.offset().left,width:t.outerWidth(!0),height:t.outerHeight(!0)}),r=n(i.template.exposeCover),l={zIndex:t.css("z-index"),position:t.css("position")},t.css("z-index",1*a.css("z-index")+1),"static"==l.position&&t.css("position","relative"),t.data("expose-css",l),r.css({top:t.offset().top,left:t.offset().left,width:t.outerWidth(!0),height:t.outerHeight(!0)}),i.$body.append(r),a.addClass(o),r.addClass(o),i.tipSettings.exposeClass&&(a.addClass(i.tipSettings.exposeClass),r.addClass(i.tipSettings.exposeClass)),t.data("expose",o),i.postExposeCallback(i.$li.index(),i.$next_tip,t),void s.add_exposed(t))},un_expose:function(){var a,r,t,l,o=!1;if(arguments.length>0&&arguments[0]instanceof n)r=arguments[0];else{if(!i.$target||/body/i.test(i.$target.selector))return!1;r=i.$target}return r.length<1?(e.console&&console.error("element not valid",r),!1):(a=r.data("expose"),t=n("."+a),arguments.length>1&&(o=arguments[1]),o===!0?n(".joyride-expose-wrapper,.joyride-expose-cover").remove():t.remove(),l=r.data("expose-css"),"auto"==l.zIndex?r.css("z-index",""):r.css("z-index",l.zIndex),l.position!=r.css("position")&&("static"==l.position?r.css("position",""):r.css("position",l.position)),r.removeData("expose"),r.removeData("expose-z-index"),void s.remove_exposed(r))},add_exposed:function(e){i.exposed=i.exposed||[],e instanceof n?i.exposed.push(e[0]):"string"==typeof e&&i.exposed.push(e)},remove_exposed:function(e){var a;e instanceof n?a=e[0]:"string"==typeof e&&(a=e),i.exposed=i.exposed||[];for(var r=0;r<i.exposed.length;r++)if(i.exposed[r]==a)return void i.exposed.splice(r,1)},center:function(){var n=i.$window;return i.$next_tip.css({top:(n.height()-i.$next_tip.outerHeight())/2+n.scrollTop(),left:(n.width()-i.$next_tip.outerWidth())/2+n.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(i.tipSettings.tipLocation)},top:function(){return/top/i.test(i.tipSettings.tipLocation)},right:function(){return/right/i.test(i.tipSettings.tipLocation)},left:function(){return/left/i.test(i.tipSettings.tipLocation)},corners:function(n){var e=i.$window,a=e.height()/2,r=Math.ceil(i.$target.offset().top-a+i.$next_tip.outerHeight()),t=e.width()+e.scrollLeft(),s=e.height()+r,l=e.height()+e.scrollTop(),o=e.scrollTop();return o>r&&(o=0>r?0:r),s>l&&(l=s),[n.offset().top<o,t<n.offset().left+n.outerWidth(),l<n.offset().top+n.outerHeight(),e.scrollLeft()>n.offset().left]},visible:function(n){for(var e=n.length;e--;)if(n[e])return!1;return!0},nub_position:function(n,e,a){"auto"===e?n.addClass(a):n.addClass(e)},startTimer:function(){i.$li.length?i.automate=setTimeout(function(){s.hide(),s.show(),s.startTimer()},i.timer):clearTimeout(i.automate)},end:function(e){e=e||!1,e&&i.$window.unbind("resize.joyride"),i.cookieMonster&&n.cookie(i.cookieName,"ridden",{expires:365,domain:i.cookieDomain,path:i.cookiePath}),i.localStorage&&localStorage.setItem(i.localStorageKey,!0),i.timer>0&&clearTimeout(i.automate),i.modal&&i.expose&&s.un_expose(),i.$current_tip&&i.$current_tip.hide(),i.$li&&(i.postStepCallback(i.$li.index(),i.$current_tip,e),i.postRideCallback(i.$li.index(),i.$current_tip,e)),n(".joyride-modal-bg").hide()},jquery_check:function(){return n.isFunction(n.fn.on)?!0:(n.fn.on=function(n,e,a){return this.delegate(e,n,a)},n.fn.off=function(n,e,a){return this.undelegate(e,n,a)},!1)},outerHTML:function(n){return n.outerHTML||(new XMLSerializer).serializeToString(n)},version:function(){return i.version},tabbable:function(e){n(e).on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode&&27===a.keyCode)return a.preventDefault(),void s.end(!0);if(9===a.keyCode){var r=n(e).find(":tabbable"),t=r.filter(":first"),i=r.filter(":last");a.target!==i[0]||a.shiftKey?a.target===t[0]&&a.shiftKey&&(i.focus(1),a.preventDefault()):(t.focus(1),a.preventDefault())}})}};n.fn.joyride=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Method "+e+" does not exist on jQuery.joyride"):s.init.apply(this,arguments)}}(jQuery,this);